<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">D.asubst_base</h1>

<div class="code">
</div>

<div class="doc">
<a id="lab55"></a><h1 class="section">Substitution lemmas for languages implementing <span class="inlinecode"><a class="idref" href="D.asubst_intf.html#ValuesSig"><span class="id" title="module">ValuesSig</span></a></span>.</h1>

</div>
<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.program_logic</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris/iris.program_logic.language.html#"><span class="id" title="library">language</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">D</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="D.prelude.html#"><span class="id" title="library">prelude</span></a> <a class="idref" href="D.asubst_intf.html#"><span class="id" title="library">asubst_intf</span></a>.<br/>

<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Suggest</span> <span class="id" title="keyword">Proof</span> <span class="id" title="var">Using</span>.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Default</span> <span class="id" title="keyword">Proof</span> <span class="id" title="var">Using</span> "Type*".<br/>

<br/>
</div>

<div class="doc">
The module type <span class="inlinecode"><a class="idref" href="D.asubst_base.html#Sorts"><span class="id" title="module">Sorts</span></a></span> is a "mixin module" that is included directly in
each language implementing <span class="inlinecode"><a class="idref" href="D.asubst_intf.html#ValuesSig"><span class="id" title="module">ValuesSig</span></a></span>,

</div>
<div class="code">
<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Type</span> <a id="Sorts" class="idref" href="#Sorts"><span class="id" title="module">Sorts</span></a> (<span class="id" title="keyword">Import</span> <span class="id" title="var">V</span> : <a class="idref" href="D.asubst_intf.html#ValuesSig"><span class="id" title="module">ValuesSig</span></a>) &lt;: <a class="idref" href="D.asubst_intf.html#SortsSig"><span class="id" title="module">SortsSig</span></a> <a class="idref" href="D.asubst_base.html#V"><span class="id" title="module">V</span></a>.<br/>
<span class="id" title="keyword">Include</span> <a class="idref" href="D.asubst_intf.html#SortsSig"><span class="id" title="module">SortsSig</span></a> <a class="idref" href="D.asubst_base.html#V"><span class="id" title="module">V</span></a>.<br/>

<br/>
</div>

<div class="doc">
We export <span class="inlinecode"><a class="idref" href="D.asubst_intf.html#ASubstLangDefUtils"><span class="id" title="module">ASubstLangDefUtils</span></a></span> even tho these mostly should be internals
to language definitions, as sometimes later proofs refer to
<span class="inlinecode"><a class="idref" href="D.asubst_intf.html#ASubstLangDefUtils"><span class="id" title="module">ASubstLangDefUtils</span></a></span>'s contents. 
</div>
<div class="code">
<span class="id" title="keyword">Export</span> <span class="id" title="var">ASubstLangDefUtils</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Sorts.iterate_comp" class="idref" href="#Sorts.iterate_comp"><span class="id" title="lemma">iterate_comp</span></a> {<a id="X:1" class="idref" href="#X:1"><span class="id" title="binder">X</span></a>} (<a id="f:2" class="idref" href="#f:2"><span class="id" title="binder">f</span></a> : <a class="idref" href="D.asubst_base.html#X:1"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.asubst_base.html#X:1"><span class="id" title="variable">X</span></a>) <a id="n:3" class="idref" href="#n:3"><span class="id" title="binder">n</span></a> <a id="m:4" class="idref" href="#m:4"><span class="id" title="binder">m</span></a> <a id="x:5" class="idref" href="#x:5"><span class="id" title="binder">x</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#iterate"><span class="id" title="definition">iterate</span></a> <a class="idref" href="D.asubst_base.html#f:2"><span class="id" title="variable">f</span></a> <a class="idref" href="D.asubst_base.html#n:3"><span class="id" title="variable">n</span></a> (<a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#iterate"><span class="id" title="definition">iterate</span></a> <a class="idref" href="D.asubst_base.html#f:2"><span class="id" title="variable">f</span></a> <a class="idref" href="D.asubst_base.html#m:4"><span class="id" title="variable">m</span></a> <a class="idref" href="D.asubst_base.html#x:5"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#iterate"><span class="id" title="definition">iterate</span></a> <a class="idref" href="D.asubst_base.html#f:2"><span class="id" title="variable">f</span></a> (<a class="idref" href="D.asubst_base.html#n:3"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="D.asubst_base.html#m:4"><span class="id" title="variable">m</span></a>) <a class="idref" href="D.asubst_base.html#x:5"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">elim</span>: <span class="id" title="var">n</span> <span class="id" title="var">m</span> ⇒ [//|<span class="id" title="var">n</span> <span class="id" title="var">IHn</span>] <span class="id" title="var">m</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#iterate_Sr"><span class="id" title="lemma">iterate_Sr</span></a> -<a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#iterate_S"><span class="id" title="lemma">iterate_S</span></a> /= -<a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#plusnS"><span class="id" title="lemma">plusnS</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Sorts.upn_comp" class="idref" href="#Sorts.upn_comp"><span class="id" title="lemma">upn_comp</span></a> <a id="n:6" class="idref" href="#n:6"><span class="id" title="binder">n</span></a> <a id="m:7" class="idref" href="#m:7"><span class="id" title="binder">m</span></a> <a id="f:8" class="idref" href="#f:8"><span class="id" title="binder">f</span></a> : <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#upn"><span class="id" title="abbreviation">upn</span></a> <a class="idref" href="D.asubst_base.html#n:6"><span class="id" title="variable">n</span></a> (<a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#upn"><span class="id" title="abbreviation">upn</span></a> <a class="idref" href="D.asubst_base.html#m:7"><span class="id" title="variable">m</span></a> <a class="idref" href="D.asubst_base.html#f:8"><span class="id" title="variable">f</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#upn"><span class="id" title="abbreviation">upn</span></a> (<a class="idref" href="D.asubst_base.html#n:6"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="D.asubst_base.html#m:7"><span class="id" title="variable">m</span></a>) <a class="idref" href="D.asubst_base.html#f:8"><span class="id" title="variable">f</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="D.asubst_base.html#Sorts.iterate_comp"><span class="id" title="lemma">iterate_comp</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="Sorts.sort_tm" class="idref" href="#Sorts.sort_tm"><span class="id" title="instance">sort_tm</span></a> : <a class="idref" href="D.asubst_base.html#Sorts.Sort"><span class="id" title="class">Sort</span></a> <a class="idref" href="D.asubst_base.html#V.tm"><span class="id" title="abbreviation">tm</span></a> := {}.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="Sorts.sort_vls" class="idref" href="#Sorts.sort_vls"><span class="id" title="instance">sort_vls</span></a> : <a class="idref" href="D.asubst_base.html#Sorts.Sort"><span class="id" title="class">Sort</span></a> <a class="idref" href="D.asubst_base.html#Sorts.vls"><span class="id" title="definition">vls</span></a> := {}.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="Sorts.sort_list" class="idref" href="#Sorts.sort_list"><span class="id" title="instance">sort_list</span></a> `{<a id="H:15" class="idref" href="#H:15"><span class="id" title="binder">Sort</span></a> <a id="H:15" class="idref" href="#H:15"><span class="id" title="binder">X</span></a>} : <a class="idref" href="D.asubst_base.html#Sorts.Sort"><span class="id" title="class">Sort</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="D.asubst_base.html#X:9"><span class="id" title="variable">X</span></a>) := {}.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="Sorts.sort_pair_snd" class="idref" href="#Sorts.sort_pair_snd"><span class="id" title="instance">sort_pair_snd</span></a> `{<a id="H:22" class="idref" href="#H:22"><span class="id" title="binder">Sort</span></a> <a id="H:22" class="idref" href="#H:22"><span class="id" title="binder">X</span></a>} `{<a id="H0:24" class="idref" href="#H0:24"><span class="id" title="binder">Inhabited</span></a> <a id="H0:24" class="idref" href="#H0:24"><span class="id" title="binder">A</span></a>} : <a class="idref" href="D.asubst_base.html#Sorts.Sort"><span class="id" title="class">Sort</span></a> (<a class="idref" href="D.asubst_base.html#A:23"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="D.asubst_base.html#X:16"><span class="id" title="variable">X</span></a>) := {}.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="Sorts.sort_list_pair_snd" class="idref" href="#Sorts.sort_list_pair_snd"><span class="id" title="instance">sort_list_pair_snd</span></a> `{<a id="H:31" class="idref" href="#H:31"><span class="id" title="binder">Sort</span></a> <a id="H:31" class="idref" href="#H:31"><span class="id" title="binder">X</span></a>} `{<a id="H0:33" class="idref" href="#H0:33"><span class="id" title="binder">Inhabited</span></a> <a id="H0:33" class="idref" href="#H0:33"><span class="id" title="binder">A</span></a>} : <a class="idref" href="D.asubst_base.html#Sorts.Sort"><span class="id" title="class">Sort</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="D.asubst_base.html#A:32"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="D.asubst_base.html#X:25"><span class="id" title="variable">X</span></a>)) := {}.<br/>

<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> (<span class="id" title="var">v</span> <span class="id" title="var">w</span> : <a class="idref" href="D.asubst_base.html#V.vl"><span class="id" title="definition">vl</span></a>) (<span class="id" title="var">vs</span> σ : <a class="idref" href="D.asubst_base.html#Sorts.vls"><span class="id" title="definition">vls</span></a>) (<span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">k</span> <span class="id" title="var">n</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">r</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (ρ : <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#var"><span class="id" title="definition">var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.asubst_base.html#V.vl"><span class="id" title="definition">vl</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="Sorts.subst_sigma" class="idref" href="#Sorts.subst_sigma"><span class="id" title="definition">subst_sigma</span></a> <a id="e05d27d7d3ee8f8203c6aec5c67d6b2f" class="idref" href="#e05d27d7d3ee8f8203c6aec5c67d6b2f"><span class="id" title="binder">σ</span></a> <a id="vs:35" class="idref" href="#vs:35"><span class="id" title="binder">vs</span></a> := <a class="idref" href="D.asubst_base.html#e05d27d7d3ee8f8203c6aec5c67d6b2f"><span class="id" title="variable">σ</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#6e9577796b11d951bea86f7d274e37fd"><span class="id" title="notation">.|[</span></a><a class="idref" href="D.asubst_intf.html#fb8e988ecab04d1ae39c9a75787321aa"><span class="id" title="notation">∞</span></a> <a class="idref" href="D.asubst_base.html#vs:35"><span class="id" title="variable">vs</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#6e9577796b11d951bea86f7d274e37fd"><span class="id" title="notation">]</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Sorts.eq_n_s_symm" class="idref" href="#Sorts.eq_n_s_symm"><span class="id" title="lemma">eq_n_s_symm</span></a> <a id="3fafe0db1e8406a5de26774c449f2c68" class="idref" href="#3fafe0db1e8406a5de26774c449f2c68"><span class="id" title="binder">ρ1</span></a> <a id="f75687a218a70bf20121f5036e44b894" class="idref" href="#f75687a218a70bf20121f5036e44b894"><span class="id" title="binder">ρ2</span></a> <a id="n:38" class="idref" href="#n:38"><span class="id" title="binder">n</span></a> : <a class="idref" href="D.asubst_base.html#Sorts.eq_n_s"><span class="id" title="definition">eq_n_s</span></a> <a class="idref" href="D.asubst_base.html#3fafe0db1e8406a5de26774c449f2c68"><span class="id" title="variable">ρ1</span></a> <a class="idref" href="D.asubst_base.html#f75687a218a70bf20121f5036e44b894"><span class="id" title="variable">ρ2</span></a> <a class="idref" href="D.asubst_base.html#n:38"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.asubst_base.html#Sorts.eq_n_s"><span class="id" title="definition">eq_n_s</span></a> <a class="idref" href="D.asubst_base.html#f75687a218a70bf20121f5036e44b894"><span class="id" title="variable">ρ2</span></a> <a class="idref" href="D.asubst_base.html#3fafe0db1e8406a5de26774c449f2c68"><span class="id" title="variable">ρ1</span></a> <a class="idref" href="D.asubst_base.html#n:38"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">Heqs</span> <span class="id" title="var">x</span> ?. <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">exact</span>: <span class="id" title="var">Heqs</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Sorts.eq_n_s_mon" class="idref" href="#Sorts.eq_n_s_mon"><span class="id" title="lemma">eq_n_s_mon</span></a> <a id="n:39" class="idref" href="#n:39"><span class="id" title="binder">n</span></a> <a id="m:40" class="idref" href="#m:40"><span class="id" title="binder">m</span></a> {<a id="s1:41" class="idref" href="#s1:41"><span class="id" title="binder">s1</span></a> <a id="s2:42" class="idref" href="#s2:42"><span class="id" title="binder">s2</span></a>}: <a class="idref" href="D.asubst_base.html#Sorts.eq_n_s"><span class="id" title="definition">eq_n_s</span></a> <a class="idref" href="D.asubst_base.html#s1:41"><span class="id" title="variable">s1</span></a> <a class="idref" href="D.asubst_base.html#s2:42"><span class="id" title="variable">s2</span></a> <a class="idref" href="D.asubst_base.html#m:40"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.asubst_base.html#n:39"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="D.asubst_base.html#m:40"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.asubst_base.html#Sorts.eq_n_s"><span class="id" title="definition">eq_n_s</span></a> <a class="idref" href="D.asubst_base.html#s1:41"><span class="id" title="variable">s1</span></a> <a class="idref" href="D.asubst_base.html#s2:42"><span class="id" title="variable">s2</span></a> <a class="idref" href="D.asubst_base.html#n:39"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="D.asubst_base.html#Sorts.eq_n_s"><span class="id" title="definition">eq_n_s</span></a> ⇒ <span class="id" title="var">HsEq</span> <span class="id" title="var">Hnm</span> <span class="id" title="var">i</span> <span class="id" title="var">Hl</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">HsEq</span>; <span class="id" title="var">lia</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="Sorts.push_var" class="idref" href="#Sorts.push_var"><span class="id" title="definition">push_var</span></a> (<a id="e301eb36a877cd02cbb5965c6e966e14" class="idref" href="#e301eb36a877cd02cbb5965c6e966e14"><span class="id" title="binder">σ</span></a> : <a class="idref" href="D.asubst_base.html#Sorts.vls"><span class="id" title="definition">vls</span></a>) : <a class="idref" href="D.asubst_base.html#Sorts.vls"><span class="id" title="definition">vls</span></a> := <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#ids"><span class="id" title="definition">ids</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="D.prelude.html#shift"><span class="id" title="abbreviation">shift</span></a> <a class="idref" href="D.asubst_base.html#e301eb36a877cd02cbb5965c6e966e14"><span class="id" title="variable">σ</span></a>.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="D.asubst_base.html#Sorts.push_var"><span class="id" title="definition">push_var</span></a> /.<br/>

<br/>
</div>

<div class="doc">
Create an identity environment of the given length. 
</div>
<div class="code">
<span class="id" title="keyword">Fixpoint</span> <a id="a3c3e2ec07a494b8dbe773213e4b6d08" class="idref" href="#a3c3e2ec07a494b8dbe773213e4b6d08"><span class="id" title="definition">ids</span></a><a id="a3c3e2ec07a494b8dbe773213e4b6d08" class="idref" href="#a3c3e2ec07a494b8dbe773213e4b6d08"><span class="id" title="definition">σ</span></a> <a id="n:44" class="idref" href="#n:44"><span class="id" title="binder">n</span></a> : <a class="idref" href="D.asubst_base.html#Sorts.vls"><span class="id" title="definition">vls</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="D.asubst_base.html#n:44"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| 0 ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> ⇒ <a class="idref" href="D.asubst_base.html#Sorts.push_var"><span class="id" title="definition">push_var</span></a> (<a class="idref" href="D.asubst_base.html#817a0d47749800ec28a66d910e1cf5c0"><span class="id" title="definition">ids</span></a><a class="idref" href="D.asubst_base.html#817a0d47749800ec28a66d910e1cf5c0"><span class="id" title="definition">σ</span></a> <a class="idref" href="D.asubst_base.html#n:44"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Infrastructure to prove "direct" lemmas on <span class="inlinecode"><a class="idref" href="D.asubst_intf.html#SortsSig.nclosed"><span class="id" title="definition">nclosed</span></a>{,<span class="id" title="var">_vl</span>}</span>: deduce that an expression is closed
    by knowing that its subexpression are closed. 
<div class="paragraph"> </div>

 Needed by <span class="inlinecode"><span class="id" title="var">solve_fv_congruence</span></span> when dealing with binders, such as in <span class="inlinecode"><a class="idref" href="D.Dot.examples.stamping.unstampedness_binding.html#fv_vobj"><span class="id" title="lemma">fv_vobj</span></a></span> and <span class="inlinecode"><span class="id" title="var">fv_vabs</span></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="Sorts.eq_up" class="idref" href="#Sorts.eq_up"><span class="id" title="lemma">eq_up</span></a> <a id="74c7d7a32217d8c79f1670a6f87602b2" class="idref" href="#74c7d7a32217d8c79f1670a6f87602b2"><span class="id" title="binder">ρ1</span></a> <a id="71b1b6c9f2b875b56129c2591b7bbb5d" class="idref" href="#71b1b6c9f2b875b56129c2591b7bbb5d"><span class="id" title="binder">ρ2</span></a> <a id="n:49" class="idref" href="#n:49"><span class="id" title="binder">n</span></a> : <a class="idref" href="D.asubst_base.html#Sorts.eq_n_s"><span class="id" title="definition">eq_n_s</span></a> <a class="idref" href="D.asubst_base.html#74c7d7a32217d8c79f1670a6f87602b2"><span class="id" title="variable">ρ1</span></a> <a class="idref" href="D.asubst_base.html#71b1b6c9f2b875b56129c2591b7bbb5d"><span class="id" title="variable">ρ2</span></a> <a class="idref" href="D.asubst_base.html#n:49"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.asubst_base.html#Sorts.eq_n_s"><span class="id" title="definition">eq_n_s</span></a> (<a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#up"><span class="id" title="definition">up</span></a> <a class="idref" href="D.asubst_base.html#74c7d7a32217d8c79f1670a6f87602b2"><span class="id" title="variable">ρ1</span></a>) (<a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#up"><span class="id" title="definition">up</span></a> <a class="idref" href="D.asubst_base.html#71b1b6c9f2b875b56129c2591b7bbb5d"><span class="id" title="variable">ρ2</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="D.asubst_base.html#n:49"><span class="id" title="variable">n</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#up"><span class="id" title="definition">up</span></a>. <span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">Heq</span> [|<span class="id" title="var">x</span>] <span class="id" title="var">Hl</span> //=. <span class="id" title="var">f_equiv</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Heq</span>. <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Ltac</span> <span class="id" title="var">solve_fv_congruence</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="D.asubst_base.html#Sorts.nclosed"><span class="id" title="definition">nclosed</span></a> /<a class="idref" href="D.asubst_base.html#Sorts.nclosed_vl"><span class="id" title="definition">nclosed_vl</span></a> ⇒ × /=; <span class="id" title="tactic">repeat</span> (<span class="id" title="var">f_equiv</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [(<span class="id" title="tactic">idtac</span> + <span class="id" title="var">asimpl</span>); <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="D.asubst_base.html#Sorts.eq_up"><span class="id" title="lemma">eq_up</span></a>]).<br/>

<br/>
</div>

<div class="doc">
Generic direct lemmas. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="Sorts.fv_cons" class="idref" href="#Sorts.fv_cons"><span class="id" title="lemma">fv_cons</span></a> `{<a id="H:56" class="idref" href="#H:56"><span class="id" title="binder">Sort</span></a> <a id="H:56" class="idref" href="#H:56"><span class="id" title="binder">X</span></a>} (<a id="x:57" class="idref" href="#x:57"><span class="id" title="binder">x</span></a> : <a class="idref" href="D.asubst_base.html#X:50"><span class="id" title="variable">X</span></a>) <a id="xs:58" class="idref" href="#xs:58"><span class="id" title="binder">xs</span></a> <a id="n:59" class="idref" href="#n:59"><span class="id" title="binder">n</span></a> : <a class="idref" href="D.asubst_base.html#Sorts.nclosed"><span class="id" title="definition">nclosed</span></a> <a class="idref" href="D.asubst_base.html#xs:58"><span class="id" title="variable">xs</span></a> <a class="idref" href="D.asubst_base.html#n:59"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.asubst_base.html#Sorts.nclosed"><span class="id" title="definition">nclosed</span></a> <a class="idref" href="D.asubst_base.html#x:57"><span class="id" title="variable">x</span></a> <a class="idref" href="D.asubst_base.html#n:59"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.asubst_base.html#Sorts.nclosed"><span class="id" title="definition">nclosed</span></a> (<a class="idref" href="D.asubst_base.html#x:57"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="D.asubst_base.html#xs:58"><span class="id" title="variable">xs</span></a>) <a class="idref" href="D.asubst_base.html#n:59"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_fv_congruence</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Sorts.fv_pair" class="idref" href="#Sorts.fv_pair"><span class="id" title="lemma">fv_pair</span></a> `{<a id="H:66" class="idref" href="#H:66"><span class="id" title="binder">Sort</span></a> <a id="H:66" class="idref" href="#H:66"><span class="id" title="binder">X</span></a>} `{<a id="H0:68" class="idref" href="#H0:68"><span class="id" title="binder">Inhabited</span></a> <a id="H0:68" class="idref" href="#H0:68"><span class="id" title="binder">A</span></a>} (<a id="a:69" class="idref" href="#a:69"><span class="id" title="binder">a</span></a> : <a class="idref" href="D.asubst_base.html#A:67"><span class="id" title="variable">A</span></a>) (<a id="x:70" class="idref" href="#x:70"><span class="id" title="binder">x</span></a> : <a class="idref" href="D.asubst_base.html#X:60"><span class="id" title="variable">X</span></a>) <a id="n:71" class="idref" href="#n:71"><span class="id" title="binder">n</span></a> : <a class="idref" href="D.asubst_base.html#Sorts.nclosed"><span class="id" title="definition">nclosed</span></a> <a class="idref" href="D.asubst_base.html#x:70"><span class="id" title="variable">x</span></a> <a class="idref" href="D.asubst_base.html#n:71"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.asubst_base.html#Sorts.nclosed"><span class="id" title="definition">nclosed</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="D.asubst_base.html#a:69"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="D.asubst_base.html#x:70"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="D.asubst_base.html#n:71"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_fv_congruence</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Sorts.fv_pair_cons" class="idref" href="#Sorts.fv_pair_cons"><span class="id" title="lemma">fv_pair_cons</span></a> `{<a id="H:78" class="idref" href="#H:78"><span class="id" title="binder">Sort</span></a> <a id="H:78" class="idref" href="#H:78"><span class="id" title="binder">X</span></a>} `{<a id="Inhabited0:80" class="idref" href="#Inhabited0:80"><span class="id" title="binder">!</span></a><a id="Inhabited0:80" class="idref" href="#Inhabited0:80"><span class="id" title="binder">Inhabited</span></a> <a id="Inhabited0:80" class="idref" href="#Inhabited0:80"><span class="id" title="binder">A</span></a>} (<a id="a:81" class="idref" href="#a:81"><span class="id" title="binder">a</span></a> : <a class="idref" href="D.asubst_base.html#A:79"><span class="id" title="variable">A</span></a>) (<a id="x:82" class="idref" href="#x:82"><span class="id" title="binder">x</span></a> : <a class="idref" href="D.asubst_base.html#X:72"><span class="id" title="variable">X</span></a>) <a id="xs:83" class="idref" href="#xs:83"><span class="id" title="binder">xs</span></a> <a id="n:84" class="idref" href="#n:84"><span class="id" title="binder">n</span></a> : <a class="idref" href="D.asubst_base.html#Sorts.nclosed"><span class="id" title="definition">nclosed</span></a> <a class="idref" href="D.asubst_base.html#xs:83"><span class="id" title="variable">xs</span></a> <a class="idref" href="D.asubst_base.html#n:84"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.asubst_base.html#Sorts.nclosed"><span class="id" title="definition">nclosed</span></a> <a class="idref" href="D.asubst_base.html#x:82"><span class="id" title="variable">x</span></a> <a class="idref" href="D.asubst_base.html#n:84"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.asubst_base.html#Sorts.nclosed"><span class="id" title="definition">nclosed</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="D.asubst_base.html#a:81"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="D.asubst_base.html#x:82"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="D.asubst_base.html#xs:83"><span class="id" title="variable">xs</span></a>) <a class="idref" href="D.asubst_base.html#n:84"><span class="id" title="variable">n</span></a>.<br/>
<span class="comment">(*&nbsp;solve_fv_congruence&nbsp;would&nbsp;work,&nbsp;but&nbsp;this&nbsp;gives&nbsp;a&nbsp;smaller&nbsp;proof.&nbsp;*)</span><br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="D.asubst_base.html#Sorts.fv_cons"><span class="id" title="lemma">fv_cons</span></a>, <a class="idref" href="D.asubst_base.html#Sorts.fv_pair"><span class="id" title="lemma">fv_pair</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Infrastructure for "inverse" lemmas on <span class="inlinecode"><a class="idref" href="D.asubst_intf.html#SortsSig.nclosed"><span class="id" title="definition">nclosed</span></a>{,<span class="id" title="var">_vl</span>}</span>: by knowing that an expression is closed,
    deduce that one of its subexpressions is closed.
    Dealing with binders in nclosed "inverse" lemmas requires more infrastructure than for "direct" lemmas.
    See <span class="inlinecode"><a class="idref" href="D.Dot.examples.syn.syn_lemmas.html#fv_vabs_inv_manual"><span class="id" title="lemma">fv_vabs_inv_manual</span></a></span> for an explanation. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Sorts.eq_n_s_tails" class="idref" href="#Sorts.eq_n_s_tails"><span class="id" title="lemma">eq_n_s_tails</span></a> {<a id="n:85" class="idref" href="#n:85"><span class="id" title="binder">n</span></a> <a id="3871671b570259aa3ac6aa2ce2fb77d8" class="idref" href="#3871671b570259aa3ac6aa2ce2fb77d8"><span class="id" title="binder">ρ1</span></a> <a id="fac9ba0f9ca26ea358818e9320a5afbc" class="idref" href="#fac9ba0f9ca26ea358818e9320a5afbc"><span class="id" title="binder">ρ2</span></a>} : <a class="idref" href="D.asubst_base.html#Sorts.eq_n_s"><span class="id" title="definition">eq_n_s</span></a> <a class="idref" href="D.asubst_base.html#3871671b570259aa3ac6aa2ce2fb77d8"><span class="id" title="variable">ρ1</span></a> <a class="idref" href="D.asubst_base.html#fac9ba0f9ca26ea358818e9320a5afbc"><span class="id" title="variable">ρ2</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="D.asubst_base.html#n:85"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.asubst_base.html#Sorts.eq_n_s"><span class="id" title="definition">eq_n_s</span></a> (<a class="idref" href="D.asubst_base.html#Sorts.stail"><span class="id" title="definition">stail</span></a> <a class="idref" href="D.asubst_base.html#3871671b570259aa3ac6aa2ce2fb77d8"><span class="id" title="variable">ρ1</span></a>) (<a class="idref" href="D.asubst_base.html#Sorts.stail"><span class="id" title="definition">stail</span></a> <a class="idref" href="D.asubst_base.html#fac9ba0f9ca26ea358818e9320a5afbc"><span class="id" title="variable">ρ2</span></a>) <a class="idref" href="D.asubst_base.html#n:85"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ /= <span class="id" title="var">HsEq</span> <span class="id" title="var">x</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="D.asubst_base.html#Sorts.stail"><span class="id" title="definition">stail</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">HsEq</span>. <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Sorts.eq_n_s_heads" class="idref" href="#Sorts.eq_n_s_heads"><span class="id" title="lemma">eq_n_s_heads</span></a> {<a id="n:88" class="idref" href="#n:88"><span class="id" title="binder">n</span></a> <a id="b76c29464e7233e2bb7a125da33a6f18" class="idref" href="#b76c29464e7233e2bb7a125da33a6f18"><span class="id" title="binder">ρ1</span></a> <a id="f1640f05e2fe8e96c69311c21ce876ac" class="idref" href="#f1640f05e2fe8e96c69311c21ce876ac"><span class="id" title="binder">ρ2</span></a>} : <a class="idref" href="D.asubst_base.html#Sorts.eq_n_s"><span class="id" title="definition">eq_n_s</span></a> <a class="idref" href="D.asubst_base.html#b76c29464e7233e2bb7a125da33a6f18"><span class="id" title="variable">ρ1</span></a> <a class="idref" href="D.asubst_base.html#f1640f05e2fe8e96c69311c21ce876ac"><span class="id" title="variable">ρ2</span></a> <a class="idref" href="D.asubst_base.html#n:88"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.asubst_base.html#n:88"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.asubst_base.html#Sorts.shead"><span class="id" title="definition">shead</span></a> <a class="idref" href="D.asubst_base.html#b76c29464e7233e2bb7a125da33a6f18"><span class="id" title="variable">ρ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="D.asubst_base.html#Sorts.shead"><span class="id" title="definition">shead</span></a> <a class="idref" href="D.asubst_base.html#f1640f05e2fe8e96c69311c21ce876ac"><span class="id" title="variable">ρ2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="D.asubst_base.html#Sorts.shead"><span class="id" title="definition">shead</span></a> ⇒ /= <span class="id" title="var">HsEq</span>. <span class="id" title="tactic">exact</span>: <span class="id" title="var">HsEq</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Sorts.eq_cons" class="idref" href="#Sorts.eq_cons"><span class="id" title="lemma">eq_cons</span></a> <a id="v:91" class="idref" href="#v:91"><span class="id" title="binder">v</span></a> <a id="sb1:92" class="idref" href="#sb1:92"><span class="id" title="binder">sb1</span></a> <a id="sb2:93" class="idref" href="#sb2:93"><span class="id" title="binder">sb2</span></a> <a id="n:94" class="idref" href="#n:94"><span class="id" title="binder">n</span></a> : <a class="idref" href="D.asubst_base.html#Sorts.eq_n_s"><span class="id" title="definition">eq_n_s</span></a> <a class="idref" href="D.asubst_base.html#sb1:92"><span class="id" title="variable">sb1</span></a> <a class="idref" href="D.asubst_base.html#sb2:93"><span class="id" title="variable">sb2</span></a> <a class="idref" href="D.asubst_base.html#n:94"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.asubst_base.html#Sorts.eq_n_s"><span class="id" title="definition">eq_n_s</span></a> (<a class="idref" href="D.asubst_base.html#v:91"><span class="id" title="variable">v</span></a> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#::subst_scope:x_'.:'_x"><span class="id" title="notation">.:</span></a> <a class="idref" href="D.asubst_base.html#sb1:92"><span class="id" title="variable">sb1</span></a>) (<a class="idref" href="D.asubst_base.html#v:91"><span class="id" title="variable">v</span></a> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#::subst_scope:x_'.:'_x"><span class="id" title="notation">.:</span></a> <a class="idref" href="D.asubst_base.html#sb2:93"><span class="id" title="variable">sb2</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="D.asubst_base.html#n:94"><span class="id" title="variable">n</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">Heqs</span> [//|<span class="id" title="var">x</span>] /<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Arith.Lt.html#lt_S_n"><span class="id" title="lemma">lt_S_n</span></a> /<span class="id" title="var">Heqs</span> //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Sorts.up_sub_compose_base" class="idref" href="#Sorts.up_sub_compose_base"><span class="id" title="lemma">up_sub_compose_base</span></a> <a id="bd834177a7ecf45951162d5d05297dce" class="idref" href="#bd834177a7ecf45951162d5d05297dce"><span class="id" title="binder">ρ</span></a> <a id="v:96" class="idref" href="#v:96"><span class="id" title="binder">v</span></a> : <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#up"><span class="id" title="definition">up</span></a> <a class="idref" href="D.asubst_base.html#bd834177a7ecf45951162d5d05297dce"><span class="id" title="variable">ρ</span></a> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#::subst_scope:x_'&gt;&gt;'_x"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="D.asubst_base.html#v:96"><span class="id" title="variable">v</span></a> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#::subst_scope:x_'.:'_x"><span class="id" title="notation">.:</span></a> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#ids"><span class="id" title="definition">ids</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="D.asubst_base.html#v:96"><span class="id" title="variable">v</span></a> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#::subst_scope:x_'.:'_x"><span class="id" title="notation">.:</span></a> <a class="idref" href="D.asubst_base.html#bd834177a7ecf45951162d5d05297dce"><span class="id" title="variable">ρ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="D.asubst_base.html#Sorts.scons_up_swap"><span class="id" title="lemma">scons_up_swap</span></a> /<a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#scomp"><span class="id" title="definition">scomp</span></a> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Tactics.html#subst_idX"><span class="id" title="lemma">subst_idX</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Sorts.up_sub_compose_vl" class="idref" href="#Sorts.up_sub_compose_vl"><span class="id" title="lemma">up_sub_compose_vl</span></a> <a id="37ba8d7035e64329ba693f7be14ae41a" class="idref" href="#37ba8d7035e64329ba693f7be14ae41a"><span class="id" title="binder">ρ</span></a> <a id="v:98" class="idref" href="#v:98"><span class="id" title="binder">v</span></a> <a id="w:99" class="idref" href="#w:99"><span class="id" title="binder">w</span></a> : <a class="idref" href="D.asubst_base.html#v:98"><span class="id" title="variable">v</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#23c9824843d8074d89ce0ae22df540a6"><span class="id" title="notation">.[</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#up"><span class="id" title="definition">up</span></a> <a class="idref" href="D.asubst_base.html#37ba8d7035e64329ba693f7be14ae41a"><span class="id" title="variable">ρ</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#23c9824843d8074d89ce0ae22df540a6"><span class="id" title="notation">]</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#e61089f6d57f961ea7de0da30860d6ff"><span class="id" title="notation">.[</span></a><a class="idref" href="D.asubst_base.html#w:99"><span class="id" title="variable">w</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#e61089f6d57f961ea7de0da30860d6ff"><span class="id" title="notation">/]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="D.asubst_base.html#v:98"><span class="id" title="variable">v</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#23c9824843d8074d89ce0ae22df540a6"><span class="id" title="notation">.[</span></a><a class="idref" href="D.asubst_base.html#w:99"><span class="id" title="variable">w</span></a> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#::subst_scope:x_'.:'_x"><span class="id" title="notation">.:</span></a> <a class="idref" href="D.asubst_base.html#37ba8d7035e64329ba693f7be14ae41a"><span class="id" title="variable">ρ</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#23c9824843d8074d89ce0ae22df540a6"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#subst_comp"><span class="id" title="method">subst_comp</span></a> <a class="idref" href="D.asubst_base.html#Sorts.up_sub_compose_base"><span class="id" title="lemma">up_sub_compose_base</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Sorts.decomp_s_vl" class="idref" href="#Sorts.decomp_s_vl"><span class="id" title="lemma">decomp_s_vl</span></a> <a id="v:100" class="idref" href="#v:100"><span class="id" title="binder">v</span></a> <a id="s:101" class="idref" href="#s:101"><span class="id" title="binder">s</span></a> : <a class="idref" href="D.asubst_base.html#v:100"><span class="id" title="variable">v</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#23c9824843d8074d89ce0ae22df540a6"><span class="id" title="notation">.[</span></a><a class="idref" href="D.asubst_base.html#s:101"><span class="id" title="variable">s</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#23c9824843d8074d89ce0ae22df540a6"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="D.asubst_base.html#v:100"><span class="id" title="variable">v</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#23c9824843d8074d89ce0ae22df540a6"><span class="id" title="notation">.[</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#up"><span class="id" title="definition">up</span></a> (<a class="idref" href="D.asubst_base.html#Sorts.stail"><span class="id" title="definition">stail</span></a> <a class="idref" href="D.asubst_base.html#s:101"><span class="id" title="variable">s</span></a>)<a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#23c9824843d8074d89ce0ae22df540a6"><span class="id" title="notation">]</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#e61089f6d57f961ea7de0da30860d6ff"><span class="id" title="notation">.[</span></a><a class="idref" href="D.asubst_base.html#Sorts.shead"><span class="id" title="definition">shead</span></a> <a class="idref" href="D.asubst_base.html#s:101"><span class="id" title="variable">s</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#e61089f6d57f961ea7de0da30860d6ff"><span class="id" title="notation">/]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="D.asubst_base.html#Sorts.stail"><span class="id" title="definition">stail</span></a> /<a class="idref" href="D.asubst_base.html#Sorts.shead"><span class="id" title="definition">shead</span></a> <a class="idref" href="D.asubst_base.html#Sorts.up_sub_compose_vl"><span class="id" title="lemma">up_sub_compose_vl</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="var">fsimpl</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Sorts.up_sub_compose" class="idref" href="#Sorts.up_sub_compose"><span class="id" title="lemma">up_sub_compose</span></a> `{<a id="H:108" class="idref" href="#H:108"><span class="id" title="binder">Sort</span></a> <a id="H:108" class="idref" href="#H:108"><span class="id" title="binder">X</span></a>} (<a id="x:109" class="idref" href="#x:109"><span class="id" title="binder">x</span></a> : <a class="idref" href="D.asubst_base.html#X:102"><span class="id" title="variable">X</span></a>) <a id="eae1f5cf56dcfec04803012f2d4aa365" class="idref" href="#eae1f5cf56dcfec04803012f2d4aa365"><span class="id" title="binder">ρ</span></a> <a id="v:111" class="idref" href="#v:111"><span class="id" title="binder">v</span></a> : <a class="idref" href="D.asubst_base.html#x:109"><span class="id" title="variable">x</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#6e9577796b11d951bea86f7d274e37fd"><span class="id" title="notation">.|[</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#up"><span class="id" title="definition">up</span></a> <a class="idref" href="D.asubst_base.html#eae1f5cf56dcfec04803012f2d4aa365"><span class="id" title="variable">ρ</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#6e9577796b11d951bea86f7d274e37fd"><span class="id" title="notation">]</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#4bb1b57716244ddf42b159bd43b93ae4"><span class="id" title="notation">.|[</span></a><a class="idref" href="D.asubst_base.html#v:111"><span class="id" title="variable">v</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#4bb1b57716244ddf42b159bd43b93ae4"><span class="id" title="notation">/]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="D.asubst_base.html#x:109"><span class="id" title="variable">x</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#6e9577796b11d951bea86f7d274e37fd"><span class="id" title="notation">.|[</span></a><a class="idref" href="D.asubst_base.html#v:111"><span class="id" title="variable">v</span></a> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#::subst_scope:x_'.:'_x"><span class="id" title="notation">.:</span></a> <a class="idref" href="D.asubst_base.html#eae1f5cf56dcfec04803012f2d4aa365"><span class="id" title="variable">ρ</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#6e9577796b11d951bea86f7d274e37fd"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#hsubst_comp"><span class="id" title="method">hsubst_comp</span></a> <a class="idref" href="D.asubst_base.html#Sorts.up_sub_compose_base"><span class="id" title="lemma">up_sub_compose_base</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Sorts.decomp_s" class="idref" href="#Sorts.decomp_s"><span class="id" title="lemma">decomp_s</span></a> `{<a id="H:118" class="idref" href="#H:118"><span class="id" title="binder">Sort</span></a> <a id="H:118" class="idref" href="#H:118"><span class="id" title="binder">X</span></a>} (<a id="x:119" class="idref" href="#x:119"><span class="id" title="binder">x</span></a> : <a class="idref" href="D.asubst_base.html#X:112"><span class="id" title="variable">X</span></a>) <a id="s:120" class="idref" href="#s:120"><span class="id" title="binder">s</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="D.asubst_base.html#x:119"><span class="id" title="variable">x</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#6e9577796b11d951bea86f7d274e37fd"><span class="id" title="notation">.|[</span></a><a class="idref" href="D.asubst_base.html#s:120"><span class="id" title="variable">s</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#6e9577796b11d951bea86f7d274e37fd"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="D.asubst_base.html#x:119"><span class="id" title="variable">x</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#6e9577796b11d951bea86f7d274e37fd"><span class="id" title="notation">.|[</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#up"><span class="id" title="definition">up</span></a> (<a class="idref" href="D.asubst_base.html#Sorts.stail"><span class="id" title="definition">stail</span></a> <a class="idref" href="D.asubst_base.html#s:120"><span class="id" title="variable">s</span></a>)<a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#6e9577796b11d951bea86f7d274e37fd"><span class="id" title="notation">]</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#4bb1b57716244ddf42b159bd43b93ae4"><span class="id" title="notation">.|[</span></a><a class="idref" href="D.asubst_base.html#Sorts.shead"><span class="id" title="definition">shead</span></a> <a class="idref" href="D.asubst_base.html#s:120"><span class="id" title="variable">s</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#4bb1b57716244ddf42b159bd43b93ae4"><span class="id" title="notation">/]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="D.asubst_base.html#Sorts.stail"><span class="id" title="definition">stail</span></a> /<a class="idref" href="D.asubst_base.html#Sorts.shead"><span class="id" title="definition">shead</span></a> <a class="idref" href="D.asubst_base.html#Sorts.up_sub_compose"><span class="id" title="lemma">up_sub_compose</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="var">fsimpl</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Rewrite thesis with equalities learned from injection, if possible 
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">rewritePremises</span> := <span class="id" title="keyword">let</span> <span class="id" title="var">H</span> := <span class="id" title="tactic">fresh</span> "H" <span class="id" title="tactic">in</span> <span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">H</span>; <span class="id" title="tactic">rewrite</span> ?<span class="id" title="var">H</span> {<span class="id" title="var">H</span>}).<br/>

<br/>
</div>

<div class="doc">
Finally, a heuristic solver <span class="inlinecode"><span class="id" title="var">solve_inv_fv_congruence</span></span> to be able to prove
    such lemmas easily, both here and elsewhere. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">solve_inv_fv_congruence</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> ρ1 := <span class="id" title="tactic">fresh</span> "ρ1" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> ρ2 := <span class="id" title="tactic">fresh</span> "ρ2" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">HsEq</span> := <span class="id" title="tactic">fresh</span> "HsEq" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Hfv</span> := <span class="id" title="tactic">fresh</span> "Hfv" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="D.asubst_base.html#Sorts.nclosed_vl"><span class="id" title="definition">nclosed_vl</span></a> /<a class="idref" href="D.asubst_base.html#Sorts.nclosed"><span class="id" title="definition">nclosed</span></a> /= ⇒ <span class="id" title="var">Hfv</span> ρ1 ρ2 <span class="id" title="var">HsEq</span>;<br/>
<span class="comment">(*&nbsp;asimpl&nbsp;is&nbsp;expensive,&nbsp;but&nbsp;sometimes&nbsp;needed&nbsp;when&nbsp;simplification&nbsp;does&nbsp;mistakes.<br/>
&nbsp;&nbsp;It&nbsp;must&nbsp;also&nbsp;be&nbsp;done&nbsp;after&nbsp;injection&nbsp;because&nbsp;it&nbsp;might&nbsp;not&nbsp;rewrite&nbsp;under&nbsp;Hfv's<br/>
&nbsp;&nbsp;binders.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> [ <span class="id" title="tactic">injection</span> (<span class="id" title="var">Hfv</span> ρ1 ρ2); <span class="id" title="tactic">trivial</span>; <span class="id" title="tactic">by</span> (<span class="id" title="tactic">idtac</span> + <span class="id" title="var">asimpl</span>; <span class="id" title="var">rewritePremises</span>; <span class="id" title="tactic">reflexivity</span>) |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?(<a class="idref" href="D.asubst_base.html#Sorts.decomp_s"><span class="id" title="lemma">decomp_s</span></a> <span class="id" title="var">_</span> ρ1) ?(<a class="idref" href="D.asubst_base.html#Sorts.decomp_s"><span class="id" title="lemma">decomp_s</span></a> <span class="id" title="var">_</span> ρ2) ?(<a class="idref" href="D.asubst_base.html#Sorts.decomp_s_vl"><span class="id" title="lemma">decomp_s_vl</span></a> <span class="id" title="var">_</span> ρ1) ?(<a class="idref" href="D.asubst_base.html#Sorts.decomp_s_vl"><span class="id" title="lemma">decomp_s_vl</span></a> <span class="id" title="var">_</span> ρ2) (<a class="idref" href="D.asubst_base.html#Sorts.eq_n_s_heads"><span class="id" title="lemma">eq_n_s_heads</span></a> <span class="id" title="var">HsEq</span>); <span class="id" title="var">last</span> <span class="id" title="var">lia</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">injection</span> (<span class="id" title="var">Hfv</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="D.asubst_base.html#Sorts.eq_n_s_tails"><span class="id" title="lemma">eq_n_s_tails</span></a> <span class="id" title="var">HsEq</span>)); <span class="id" title="tactic">by</span> <span class="id" title="var">rewritePremises</span> ].<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">solve_inv_fv_congruence_h</span> <span class="id" title="var">Hcl</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Hcl</span>; <span class="id" title="var">solve_inv_fv_congruence</span>.<br/>

<br/>
<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Sorts.nclosed_vl_ids" class="idref" href="#Sorts.nclosed_vl_ids"><span class="id" title="lemma">nclosed_vl_ids</span></a> <a id="i:121" class="idref" href="#i:121"><span class="id" title="binder">i</span></a> <a id="j:122" class="idref" href="#j:122"><span class="id" title="binder">j</span></a>: <a class="idref" href="D.asubst_base.html#i:121"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="D.asubst_base.html#j:122"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.asubst_base.html#Sorts.nclosed_vl"><span class="id" title="definition">nclosed_vl</span></a> (<a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#ids"><span class="id" title="definition">ids</span></a> <a class="idref" href="D.asubst_base.html#i:121"><span class="id" title="variable">i</span></a>) <a class="idref" href="D.asubst_base.html#j:122"><span class="id" title="variable">j</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">move</span> ⇒ ????; <span class="id" title="tactic">rewrite</span> !<a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#id_subst"><span class="id" title="method">id_subst</span></a>. <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Sorts.nclosed_var_lt" class="idref" href="#Sorts.nclosed_var_lt"><span class="id" title="lemma">nclosed_var_lt</span></a> <a id="i:123" class="idref" href="#i:123"><span class="id" title="binder">i</span></a> <a id="n:124" class="idref" href="#n:124"><span class="id" title="binder">n</span></a>: <a class="idref" href="D.asubst_base.html#Sorts.nclosed_vl"><span class="id" title="definition">nclosed_vl</span></a> (<a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#ids"><span class="id" title="definition">ids</span></a> <a class="idref" href="D.asubst_base.html#i:123"><span class="id" title="variable">i</span></a>) <a class="idref" href="D.asubst_base.html#n:124"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.asubst_base.html#i:123"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="D.asubst_base.html#n:124"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">s0</span> := <span class="id" title="keyword">fun</span> <a id="c:129" class="idref" href="#c:129"><span class="id" title="binder">c</span></a> <a id="m:130" class="idref" href="#m:130"><span class="id" title="binder">m</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<a class="idref" href="D.asubst_base.html#m:126"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">n</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#ids"><span class="id" title="definition">ids</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#ids"><span class="id" title="definition">ids</span></a> <a class="idref" href="D.asubst_base.html#c:125"><span class="id" title="variable">c</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="D.asubst_base.html#V.vl"><span class="id" title="definition">vl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> ρ1 := <span class="id" title="var">s0</span> 1; <span class="id" title="tactic">set</span> ρ2 := <span class="id" title="var">s0</span> 2.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Heqs</span>: <a class="idref" href="D.asubst_base.html#Sorts.eq_n_s"><span class="id" title="definition">eq_n_s</span></a> ρ1 ρ2 <span class="id" title="var">n</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">subst</span> <span class="id" title="var">s0</span> ρ1 ρ2; <span class="id" title="tactic">move</span>⇒ ??; <span class="id" title="var">case_decide</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: {<span class="id" title="var">Heq</span> <span class="id" title="var">Heqs</span>} (<span class="id" title="var">Heq</span> ρ1 ρ2 <span class="id" title="var">Heqs</span>); <span class="id" title="tactic">subst</span> <span class="id" title="var">s0</span> ρ1 ρ2 ⇒ /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#id_subst"><span class="id" title="method">id_subst</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="var">case_decide</span> ⇒ // /<a class="idref" href="D.asubst_base.html#V.inj_ids"><span class="id" title="axiom">inj_ids</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Sorts.eq_n_s_total" class="idref" href="#Sorts.eq_n_s_total"><span class="id" title="lemma">eq_n_s_total</span></a> <a id="a5c41cf562706f4e29993c57b29a14b1" class="idref" href="#a5c41cf562706f4e29993c57b29a14b1"><span class="id" title="binder">ρ1</span></a> <a id="aacc7e55279f98869314b4c98a455298" class="idref" href="#aacc7e55279f98869314b4c98a455298"><span class="id" title="binder">ρ2</span></a>: <a class="idref" href="D.asubst_base.html#Sorts.eq_n_s"><span class="id" title="definition">eq_n_s</span></a> <a class="idref" href="D.asubst_base.html#a5c41cf562706f4e29993c57b29a14b1"><span class="id" title="variable">ρ1</span></a> <a class="idref" href="D.asubst_base.html#aacc7e55279f98869314b4c98a455298"><span class="id" title="variable">ρ2</span></a> 0.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">move</span> ⇒ ? /<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Numbers.Natural.Peano.NPeano.html#Nat.nlt_0_r"><span class="id" title="lemma">Nat.nlt_0_r</span></a> []. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Auxiliary&nbsp;lemma&nbsp;for&nbsp;<span class="inlinecode"><span class="id" title="var">length_ids</span>σ</span>.&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="dae86ad8868d562feaf3594675844809" class="idref" href="#dae86ad8868d562feaf3594675844809"><span class="id" title="lemma">length_ids</span></a><a id="dae86ad8868d562feaf3594675844809" class="idref" href="#dae86ad8868d562feaf3594675844809"><span class="id" title="lemma">σ</span></a><a id="dae86ad8868d562feaf3594675844809" class="idref" href="#dae86ad8868d562feaf3594675844809"><span class="id" title="lemma">r</span></a> <a id="n:133" class="idref" href="#n:133"><span class="id" title="binder">n</span></a> <a id="r:134" class="idref" href="#r:134"><span class="id" title="binder">r</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#6e9577796b11d951bea86f7d274e37fd"><span class="id" title="notation">(</span></a><a class="idref" href="D.asubst_base.html#a3c3e2ec07a494b8dbe773213e4b6d08"><span class="id" title="definition">ids</span></a><a class="idref" href="D.asubst_base.html#a3c3e2ec07a494b8dbe773213e4b6d08"><span class="id" title="definition">σ</span></a> <a class="idref" href="D.asubst_base.html#n:133"><span class="id" title="variable">n</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#6e9577796b11d951bea86f7d274e37fd"><span class="id" title="notation">).|[</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#ren"><span class="id" title="definition">ren</span></a> <a class="idref" href="D.asubst_base.html#r:134"><span class="id" title="variable">r</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#6e9577796b11d951bea86f7d274e37fd"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="D.asubst_base.html#n:133"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">n</span> <span class="id" title="var">r</span> ⇒ [<span class="id" title="var">r</span> | <span class="id" title="var">n</span> <span class="id" title="var">IHn</span> <span class="id" title="var">r</span>] ⇒ //.<br/>
&nbsp;&nbsp;<span class="id" title="var">asimpl</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHn</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="079e8f32b43482cd6e6b87d5290e2eb6" class="idref" href="#079e8f32b43482cd6e6b87d5290e2eb6"><span class="id" title="lemma">length_ids</span></a><a id="079e8f32b43482cd6e6b87d5290e2eb6" class="idref" href="#079e8f32b43482cd6e6b87d5290e2eb6"><span class="id" title="lemma">σ</span></a> <a id="n:135" class="idref" href="#n:135"><span class="id" title="binder">n</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="D.asubst_base.html#a3c3e2ec07a494b8dbe773213e4b6d08"><span class="id" title="definition">ids</span></a><a class="idref" href="D.asubst_base.html#a3c3e2ec07a494b8dbe773213e4b6d08"><span class="id" title="definition">σ</span></a> <a class="idref" href="D.asubst_base.html#n:135"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="D.asubst_base.html#n:135"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">move</span>: (<a class="idref" href="D.asubst_base.html#dae86ad8868d562feaf3594675844809"><span class="id" title="lemma">length_ids</span></a><a class="idref" href="D.asubst_base.html#dae86ad8868d562feaf3594675844809"><span class="id" title="lemma">σ</span></a><a class="idref" href="D.asubst_base.html#dae86ad8868d562feaf3594675844809"><span class="id" title="lemma">r</span></a> <span class="id" title="var">n</span> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#c9aab5cb3e77736c6718b089f8ae76bd"><span class="id" title="notation">(+</span></a>0<a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#c9aab5cb3e77736c6718b089f8ae76bd"><span class="id" title="notation">)</span></a>) ⇒ <span class="id" title="var">Hgoal</span>. <span class="id" title="tactic">by</span> <span class="id" title="var">asimpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hgoal</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Let's prove that <span class="inlinecode"><a class="idref" href="D.asubst_intf.html#SortsSig.nclosed"><span class="id" title="definition">nclosed</span></a></span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode"><span class="id" title="var">n</span></span> <span class="inlinecode">→</span> <span class="inlinecode"><span class="id" title="var">x</span>.|[∞</span> <span class="inlinecode">(<a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#ids"><span class="id" title="definition">ids</span></a>σ</span> <span class="inlinecode"><span class="id" title="var">n</span>)]</span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">x</span></span>, and ditto for values. 
</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="965caf2020be40eae2c6efbe583c373b" class="idref" href="#965caf2020be40eae2c6efbe583c373b"><span class="id" title="section">to_subst_ids</span></a><a id="965caf2020be40eae2c6efbe583c373b" class="idref" href="#965caf2020be40eae2c6efbe583c373b"><span class="id" title="section">σ</span></a><a id="965caf2020be40eae2c6efbe583c373b" class="idref" href="#965caf2020be40eae2c6efbe583c373b"><span class="id" title="section">_is_id</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Sorts.to_subst_map_commute_aux" class="idref" href="#Sorts.to_subst_map_commute_aux"><span class="id" title="lemma">to_subst_map_commute_aux</span></a> <a id="f:136" class="idref" href="#f:136"><span class="id" title="binder">f</span></a> <a id="n:137" class="idref" href="#n:137"><span class="id" title="binder">n</span></a> <a id="i:138" class="idref" href="#i:138"><span class="id" title="binder">i</span></a> <a id="r:139" class="idref" href="#r:139"><span class="id" title="binder">r</span></a>: <a class="idref" href="D.asubst_base.html#i:138"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="D.asubst_base.html#n:137"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="D.asubst_intf.html#fb8e988ecab04d1ae39c9a75787321aa"><span class="id" title="notation">(∞</span></a> <a class="idref" href="D.asubst_intf.html#fb8e988ecab04d1ae39c9a75787321aa"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="D.asubst_base.html#f:136"><span class="id" title="variable">f</span></a> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#6e9577796b11d951bea86f7d274e37fd"><span class="id" title="notation">(</span></a><a class="idref" href="D.asubst_base.html#a3c3e2ec07a494b8dbe773213e4b6d08"><span class="id" title="definition">ids</span></a><a class="idref" href="D.asubst_base.html#a3c3e2ec07a494b8dbe773213e4b6d08"><span class="id" title="definition">σ</span></a> <a class="idref" href="D.asubst_base.html#n:137"><span class="id" title="variable">n</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#6e9577796b11d951bea86f7d274e37fd"><span class="id" title="notation">).|[</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#ren"><span class="id" title="definition">ren</span></a> <a class="idref" href="D.asubst_base.html#r:139"><span class="id" title="variable">r</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#6e9577796b11d951bea86f7d274e37fd"><span class="id" title="notation">]</span></a><a class="idref" href="D.asubst_intf.html#fb8e988ecab04d1ae39c9a75787321aa"><span class="id" title="notation">))</span></a> <a class="idref" href="D.asubst_intf.html#fb8e988ecab04d1ae39c9a75787321aa"><span class="id" title="notation">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="D.asubst_base.html#f:136"><span class="id" title="variable">f</span></a> (<a class="idref" href="D.asubst_intf.html#fb8e988ecab04d1ae39c9a75787321aa"><span class="id" title="notation">(∞</span></a> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#6e9577796b11d951bea86f7d274e37fd"><span class="id" title="notation">(</span></a><a class="idref" href="D.asubst_base.html#a3c3e2ec07a494b8dbe773213e4b6d08"><span class="id" title="definition">ids</span></a><a class="idref" href="D.asubst_base.html#a3c3e2ec07a494b8dbe773213e4b6d08"><span class="id" title="definition">σ</span></a> <a class="idref" href="D.asubst_base.html#n:137"><span class="id" title="variable">n</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#6e9577796b11d951bea86f7d274e37fd"><span class="id" title="notation">).|[</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#ren"><span class="id" title="definition">ren</span></a> <a class="idref" href="D.asubst_base.html#r:139"><span class="id" title="variable">r</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#6e9577796b11d951bea86f7d274e37fd"><span class="id" title="notation">]</span></a><a class="idref" href="D.asubst_intf.html#fb8e988ecab04d1ae39c9a75787321aa"><span class="id" title="notation">)</span></a> <a class="idref" href="D.asubst_intf.html#fb8e988ecab04d1ae39c9a75787321aa"><span class="id" title="notation">i</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">n</span> <span class="id" title="var">r</span> <span class="id" title="var">i</span> ⇒ [|<span class="id" title="var">n</span> <span class="id" title="var">IHn</span>] <span class="id" title="var">r</span> [//|<span class="id" title="var">i</span>] <span class="id" title="var">Hle</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>. <span class="id" title="var">asimpl</span>. <span class="id" title="tactic">apply</span>: <span class="id" title="var">IHn</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Sorts.to_subst_map_commute" class="idref" href="#Sorts.to_subst_map_commute"><span class="id" title="lemma">to_subst_map_commute</span></a> <a id="f:140" class="idref" href="#f:140"><span class="id" title="binder">f</span></a> <a id="n:141" class="idref" href="#n:141"><span class="id" title="binder">n</span></a> <a id="i:142" class="idref" href="#i:142"><span class="id" title="binder">i</span></a>: <a class="idref" href="D.asubst_base.html#i:142"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="D.asubst_base.html#n:141"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.asubst_intf.html#fb8e988ecab04d1ae39c9a75787321aa"><span class="id" title="notation">(∞</span></a> <a class="idref" href="D.asubst_intf.html#fb8e988ecab04d1ae39c9a75787321aa"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="D.asubst_base.html#f:140"><span class="id" title="variable">f</span></a> (<a class="idref" href="D.asubst_base.html#a3c3e2ec07a494b8dbe773213e4b6d08"><span class="id" title="definition">ids</span></a><a class="idref" href="D.asubst_base.html#a3c3e2ec07a494b8dbe773213e4b6d08"><span class="id" title="definition">σ</span></a> <a class="idref" href="D.asubst_base.html#n:141"><span class="id" title="variable">n</span></a>)<a class="idref" href="D.asubst_intf.html#fb8e988ecab04d1ae39c9a75787321aa"><span class="id" title="notation">))</span></a> <a class="idref" href="D.asubst_intf.html#fb8e988ecab04d1ae39c9a75787321aa"><span class="id" title="notation">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="D.asubst_base.html#f:140"><span class="id" title="variable">f</span></a> (<a class="idref" href="D.asubst_intf.html#fb8e988ecab04d1ae39c9a75787321aa"><span class="id" title="notation">(∞</span></a> <a class="idref" href="D.asubst_intf.html#fb8e988ecab04d1ae39c9a75787321aa"><span class="id" title="notation">(</span></a><a class="idref" href="D.asubst_base.html#a3c3e2ec07a494b8dbe773213e4b6d08"><span class="id" title="definition">ids</span></a><a class="idref" href="D.asubst_base.html#a3c3e2ec07a494b8dbe773213e4b6d08"><span class="id" title="definition">σ</span></a> <a class="idref" href="D.asubst_base.html#n:141"><span class="id" title="variable">n</span></a><a class="idref" href="D.asubst_intf.html#fb8e988ecab04d1ae39c9a75787321aa"><span class="id" title="notation">))</span></a> <a class="idref" href="D.asubst_intf.html#fb8e988ecab04d1ae39c9a75787321aa"><span class="id" title="notation">i</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">move</span>: (@<a class="idref" href="D.asubst_base.html#Sorts.to_subst_map_commute_aux"><span class="id" title="lemma">to_subst_map_commute_aux</span></a> <span class="id" title="var">f</span> <span class="id" title="var">n</span> <span class="id" title="var">i</span> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#c9aab5cb3e77736c6718b089f8ae76bd"><span class="id" title="notation">(+</span></a>0<a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#c9aab5cb3e77736c6718b089f8ae76bd"><span class="id" title="notation">)</span></a>) ⇒ <span class="id" title="var">Hgoal</span>. <span class="id" title="tactic">by</span> <span class="id" title="var">asimpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hgoal</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="6ea4493a51f27f787885cc1fc0fea1b1" class="idref" href="#6ea4493a51f27f787885cc1fc0fea1b1"><span class="id" title="lemma">ids</span></a><a id="6ea4493a51f27f787885cc1fc0fea1b1" class="idref" href="#6ea4493a51f27f787885cc1fc0fea1b1"><span class="id" title="lemma">σ</span></a><a id="6ea4493a51f27f787885cc1fc0fea1b1" class="idref" href="#6ea4493a51f27f787885cc1fc0fea1b1"><span class="id" title="lemma">_eq_ids</span></a> <a id="n:143" class="idref" href="#n:143"><span class="id" title="binder">n</span></a>: <a class="idref" href="D.asubst_base.html#Sorts.eq_n_s"><span class="id" title="definition">eq_n_s</span></a> (<a class="idref" href="D.asubst_intf.html#fb8e988ecab04d1ae39c9a75787321aa"><span class="id" title="notation">∞</span></a> <a class="idref" href="D.asubst_intf.html#fb8e988ecab04d1ae39c9a75787321aa"><span class="id" title="notation">(</span></a><a class="idref" href="D.asubst_base.html#a3c3e2ec07a494b8dbe773213e4b6d08"><span class="id" title="definition">ids</span></a><a class="idref" href="D.asubst_base.html#a3c3e2ec07a494b8dbe773213e4b6d08"><span class="id" title="definition">σ</span></a> <a class="idref" href="D.asubst_base.html#n:143"><span class="id" title="variable">n</span></a><a class="idref" href="D.asubst_intf.html#fb8e988ecab04d1ae39c9a75787321aa"><span class="id" title="notation">)</span></a>) <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#ids"><span class="id" title="definition">ids</span></a> <a class="idref" href="D.asubst_base.html#n:143"><span class="id" title="variable">n</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">n</span> ⇒ [|<span class="id" title="var">n</span> <span class="id" title="var">IHn</span>] [|<span class="id" title="var">i</span>] // /<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Arith.Lt.html#lt_S_n"><span class="id" title="lemma">lt_S_n</span></a> <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /= <a class="idref" href="D.asubst_base.html#Sorts.to_subst_map_commute"><span class="id" title="lemma">to_subst_map_commute</span></a> // <span class="id" title="var">IHn</span> // <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#id_subst"><span class="id" title="method">id_subst</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="D.asubst_base.html#965caf2020be40eae2c6efbe583c373b"><span class="id" title="section">to_subst_ids</span></a><a class="idref" href="D.asubst_base.html#965caf2020be40eae2c6efbe583c373b"><span class="id" title="section">σ</span></a><a class="idref" href="D.asubst_base.html#965caf2020be40eae2c6efbe583c373b"><span class="id" title="section">_is_id</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Sorts.iter_up" class="idref" href="#Sorts.iter_up"><span class="id" title="lemma">iter_up</span></a> (<a id="m:144" class="idref" href="#m:144"><span class="id" title="binder">m</span></a> <a id="x:145" class="idref" href="#x:145"><span class="id" title="binder">x</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="f:146" class="idref" href="#f:146"><span class="id" title="binder">f</span></a> : <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#var"><span class="id" title="definition">var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.asubst_base.html#V.vl"><span class="id" title="definition">vl</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#upn"><span class="id" title="abbreviation">upn</span></a> <a class="idref" href="D.asubst_base.html#m:144"><span class="id" title="variable">m</span></a> <a class="idref" href="D.asubst_base.html#f:146"><span class="id" title="variable">f</span></a> <a class="idref" href="D.asubst_base.html#x:145"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Arith.Compare_dec.html#lt_dec"><span class="id" title="lemma">lt_dec</span></a> <a class="idref" href="D.asubst_base.html#x:145"><span class="id" title="variable">x</span></a> <a class="idref" href="D.asubst_base.html#m:144"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#ids"><span class="id" title="definition">ids</span></a> <a class="idref" href="D.asubst_base.html#x:145"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#rename"><span class="id" title="definition">rename</span></a> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#c9aab5cb3e77736c6718b089f8ae76bd"><span class="id" title="notation">(+</span></a><a class="idref" href="D.asubst_base.html#m:144"><span class="id" title="variable">m</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#c9aab5cb3e77736c6718b089f8ae76bd"><span class="id" title="notation">)</span></a> (<a class="idref" href="D.asubst_base.html#f:146"><span class="id" title="variable">f</span></a> (<a class="idref" href="D.asubst_base.html#x:145"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="D.asubst_base.html#m:144"><span class="id" title="variable">m</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">m</span> <span class="id" title="var">x</span> ⇒ [|<span class="id" title="var">m</span> <span class="id" title="var">IH</span>] [|<span class="id" title="var">x</span>]; <span class="id" title="var">case_match</span> ⇒ //; <span class="id" title="var">asimpl</span>; <span class="id" title="tactic">rewrite</span> // <span class="id" title="var">IH</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_match</span>; (<span class="id" title="var">lia</span> || <span class="id" title="var">autosubst</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Rewrite&nbsp;lemmas&nbsp;to&nbsp;be&nbsp;faster&nbsp;than&nbsp;asimpl:&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="Sorts.scompA" class="idref" href="#Sorts.scompA"><span class="id" title="lemma">scompA</span></a> <a id="a:147" class="idref" href="#a:147"><span class="id" title="binder">a</span></a> <a id="b:148" class="idref" href="#b:148"><span class="id" title="binder">b</span></a> <a id="c:149" class="idref" href="#c:149"><span class="id" title="binder">c</span></a> : <a class="idref" href="D.asubst_base.html#a:147"><span class="id" title="variable">a</span></a> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#::subst_scope:x_'&gt;&gt;'_x"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="D.asubst_base.html#b:148"><span class="id" title="variable">b</span></a> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#::subst_scope:x_'&gt;&gt;'_x"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="D.asubst_base.html#c:149"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="D.asubst_base.html#a:147"><span class="id" title="variable">a</span></a> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#::subst_scope:x_'&gt;&gt;'_x"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#::subst_scope:x_'&gt;&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="D.asubst_base.html#b:148"><span class="id" title="variable">b</span></a> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#::subst_scope:x_'&gt;&gt;'_x"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="D.asubst_base.html#c:149"><span class="id" title="variable">c</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#::subst_scope:x_'&gt;&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#scomp"><span class="id" title="definition">scomp</span></a>/= -!<a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Tactics.html#subst_compX"><span class="id" title="lemma">subst_compX</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Sorts.ren_ren_comp" class="idref" href="#Sorts.ren_ren_comp"><span class="id" title="lemma">ren_ren_comp</span></a> <a id="i:150" class="idref" href="#i:150"><span class="id" title="binder">i</span></a> <a id="j:151" class="idref" href="#j:151"><span class="id" title="binder">j</span></a> : <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#ren"><span class="id" title="definition">ren</span></a> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#c9aab5cb3e77736c6718b089f8ae76bd"><span class="id" title="notation">(+</span></a><a class="idref" href="D.asubst_base.html#i:150"><span class="id" title="variable">i</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#c9aab5cb3e77736c6718b089f8ae76bd"><span class="id" title="notation">)</span></a> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#::subst_scope:x_'&gt;&gt;'_x"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#ren"><span class="id" title="definition">ren</span></a> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#c9aab5cb3e77736c6718b089f8ae76bd"><span class="id" title="notation">(+</span></a><a class="idref" href="D.asubst_base.html#j:151"><span class="id" title="variable">j</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#c9aab5cb3e77736c6718b089f8ae76bd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#ren"><span class="id" title="definition">ren</span></a> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#c9aab5cb3e77736c6718b089f8ae76bd"><span class="id" title="notation">(+</span></a><a class="idref" href="D.asubst_base.html#j:151"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="D.asubst_base.html#i:150"><span class="id" title="variable">i</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#c9aab5cb3e77736c6718b089f8ae76bd"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">autosubst</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Sorts.ren_upn_gen" class="idref" href="#Sorts.ren_upn_gen"><span class="id" title="lemma">ren_upn_gen</span></a> <a id="i:152" class="idref" href="#i:152"><span class="id" title="binder">i</span></a> <a id="j:153" class="idref" href="#j:153"><span class="id" title="binder">j</span></a> <a id="k:154" class="idref" href="#k:154"><span class="id" title="binder">k</span></a> : <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#ren"><span class="id" title="definition">ren</span></a> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#c9aab5cb3e77736c6718b089f8ae76bd"><span class="id" title="notation">(+</span></a><a class="idref" href="D.asubst_base.html#i:152"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="D.asubst_base.html#j:153"><span class="id" title="variable">j</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#c9aab5cb3e77736c6718b089f8ae76bd"><span class="id" title="notation">)</span></a> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#::subst_scope:x_'&gt;&gt;'_x"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#upn"><span class="id" title="abbreviation">upn</span></a> <a class="idref" href="D.asubst_base.html#i:152"><span class="id" title="variable">i</span></a> (<a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#ren"><span class="id" title="definition">ren</span></a> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#c9aab5cb3e77736c6718b089f8ae76bd"><span class="id" title="notation">(+</span></a><a class="idref" href="D.asubst_base.html#k:154"><span class="id" title="variable">k</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#c9aab5cb3e77736c6718b089f8ae76bd"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#ren"><span class="id" title="definition">ren</span></a> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#c9aab5cb3e77736c6718b089f8ae76bd"><span class="id" title="notation">(+</span></a><a class="idref" href="D.asubst_base.html#i:152"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="D.asubst_base.html#j:153"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="D.asubst_base.html#k:154"><span class="id" title="variable">k</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#c9aab5cb3e77736c6718b089f8ae76bd"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">k</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Lemmas.html#up_id_n"><span class="id" title="lemma">up_id_n</span></a>; <span class="id" title="var">autosubst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">k</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">k</span>)) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="D.asubst_base.html#Sorts.renS_comp"><span class="id" title="lemma">renS_comp</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">k</span>)) -<span class="id" title="var">IHk</span> -<a class="idref" href="D.asubst_base.html#Sorts.ren_ren_comp"><span class="id" title="lemma">ren_ren_comp</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !(<a class="idref" href="D.asubst_base.html#Sorts.scompA"><span class="id" title="lemma">scompA</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#upn"><span class="id" title="abbreviation">upn</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) !<a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Lemmas.html#up_liftn"><span class="id" title="lemma">up_liftn</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">autosubst</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="Sorts.sort_lemmas" class="idref" href="#Sorts.sort_lemmas"><span class="id" title="section">sort_lemmas</span></a>.<br/>
<span class="id" title="keyword">Context</span> `{<a id="_HsX:161" class="idref" href="#_HsX:161"><span class="id" title="binder">_HsX</span></a>: <a class="idref" href="D.asubst_base.html#Sorts.Sort"><span class="id" title="class">Sort</span></a> <a id="X:155" class="idref" href="#X:155"><span class="id" title="binder">X</span></a>}.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> (<span class="id" title="var">x</span> : <a class="idref" href="D.asubst_base.html#Sorts.sort_lemmas.X"><span class="id" title="variable">X</span></a>) (<span class="id" title="var">Γ</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="D.asubst_base.html#Sorts.sort_lemmas.X"><span class="id" title="variable">X</span></a>).<br/>

<br/>
<span class="comment">(*&nbsp;Dead&nbsp;but&nbsp;still&nbsp;potentially&nbsp;useful.&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="Sorts.subst_swap_vl" class="idref" href="#Sorts.subst_swap_vl"><span class="id" title="lemma">subst_swap_vl</span></a> <a id="v:162" class="idref" href="#v:162"><span class="id" title="binder">v</span></a> <a id="8b8ab121472cabc933f57d4f2b0d55ab" class="idref" href="#8b8ab121472cabc933f57d4f2b0d55ab"><span class="id" title="binder">ρ</span></a> <a id="w:164" class="idref" href="#w:164"><span class="id" title="binder">w</span></a> : <a class="idref" href="D.asubst_base.html#v:162"><span class="id" title="variable">v</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#23c9824843d8074d89ce0ae22df540a6"><span class="id" title="notation">.[</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#up"><span class="id" title="definition">up</span></a> <a class="idref" href="D.asubst_base.html#8b8ab121472cabc933f57d4f2b0d55ab"><span class="id" title="variable">ρ</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#23c9824843d8074d89ce0ae22df540a6"><span class="id" title="notation">]</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#e61089f6d57f961ea7de0da30860d6ff"><span class="id" title="notation">.[</span></a><a class="idref" href="D.asubst_base.html#w:164"><span class="id" title="variable">w</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#23c9824843d8074d89ce0ae22df540a6"><span class="id" title="notation">.[</span></a><a class="idref" href="D.asubst_base.html#8b8ab121472cabc933f57d4f2b0d55ab"><span class="id" title="variable">ρ</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#23c9824843d8074d89ce0ae22df540a6"><span class="id" title="notation">]</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#e61089f6d57f961ea7de0da30860d6ff"><span class="id" title="notation">/]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="D.asubst_base.html#v:162"><span class="id" title="variable">v</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#e61089f6d57f961ea7de0da30860d6ff"><span class="id" title="notation">.[</span></a><a class="idref" href="D.asubst_base.html#w:164"><span class="id" title="variable">w</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#e61089f6d57f961ea7de0da30860d6ff"><span class="id" title="notation">/]</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#23c9824843d8074d89ce0ae22df540a6"><span class="id" title="notation">.[</span></a><a class="idref" href="D.asubst_base.html#8b8ab121472cabc933f57d4f2b0d55ab"><span class="id" title="variable">ρ</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#23c9824843d8074d89ce0ae22df540a6"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#subst_comp"><span class="id" title="method">subst_comp</span></a> <a class="idref" href="D.asubst_base.html#Sorts.up_sub_compose_base"><span class="id" title="lemma">up_sub_compose_base</span></a> <a class="idref" href="D.asubst_base.html#Sorts.subst_swap_base"><span class="id" title="lemma">subst_swap_base</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Dead&nbsp;but&nbsp;still&nbsp;potentially&nbsp;useful.&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="Sorts.subst_swap" class="idref" href="#Sorts.subst_swap"><span class="id" title="lemma">subst_swap</span></a> (<a id="x:165" class="idref" href="#x:165"><span class="id" title="binder">x</span></a>: <a class="idref" href="D.asubst_base.html#Sorts.sort_lemmas.X"><span class="id" title="variable">X</span></a>) <a id="5161f77550cffdedcab623f68a97ce02" class="idref" href="#5161f77550cffdedcab623f68a97ce02"><span class="id" title="binder">ρ</span></a> <a id="v:167" class="idref" href="#v:167"><span class="id" title="binder">v</span></a> : <a class="idref" href="D.asubst_base.html#x:165"><span class="id" title="variable">x</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#6e9577796b11d951bea86f7d274e37fd"><span class="id" title="notation">.|[</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#up"><span class="id" title="definition">up</span></a> <a class="idref" href="D.asubst_base.html#5161f77550cffdedcab623f68a97ce02"><span class="id" title="variable">ρ</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#6e9577796b11d951bea86f7d274e37fd"><span class="id" title="notation">]</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#4bb1b57716244ddf42b159bd43b93ae4"><span class="id" title="notation">.|[</span></a><a class="idref" href="D.asubst_base.html#v:167"><span class="id" title="variable">v</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#23c9824843d8074d89ce0ae22df540a6"><span class="id" title="notation">.[</span></a><a class="idref" href="D.asubst_base.html#5161f77550cffdedcab623f68a97ce02"><span class="id" title="variable">ρ</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#23c9824843d8074d89ce0ae22df540a6"><span class="id" title="notation">]</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#4bb1b57716244ddf42b159bd43b93ae4"><span class="id" title="notation">/]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="D.asubst_base.html#x:165"><span class="id" title="variable">x</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#4bb1b57716244ddf42b159bd43b93ae4"><span class="id" title="notation">.|[</span></a><a class="idref" href="D.asubst_base.html#v:167"><span class="id" title="variable">v</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#4bb1b57716244ddf42b159bd43b93ae4"><span class="id" title="notation">/]</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#6e9577796b11d951bea86f7d274e37fd"><span class="id" title="notation">.|[</span></a><a class="idref" href="D.asubst_base.html#5161f77550cffdedcab623f68a97ce02"><span class="id" title="variable">ρ</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#6e9577796b11d951bea86f7d274e37fd"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#hsubst_comp"><span class="id" title="method">hsubst_comp</span></a> <a class="idref" href="D.asubst_base.html#Sorts.up_sub_compose_base"><span class="id" title="lemma">up_sub_compose_base</span></a> <a class="idref" href="D.asubst_base.html#Sorts.subst_swap_base"><span class="id" title="lemma">subst_swap_base</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Sorts.ren_upn" class="idref" href="#Sorts.ren_upn"><span class="id" title="lemma">ren_upn</span></a> <a id="i:168" class="idref" href="#i:168"><span class="id" title="binder">i</span></a> <a id="v:169" class="idref" href="#v:169"><span class="id" title="binder">v</span></a> : <a class="idref" href="D.asubst_base.html#v:169"><span class="id" title="variable">v</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#23c9824843d8074d89ce0ae22df540a6"><span class="id" title="notation">.[</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#ren"><span class="id" title="definition">ren</span></a> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#c9aab5cb3e77736c6718b089f8ae76bd"><span class="id" title="notation">(+</span></a><a class="idref" href="D.asubst_base.html#i:168"><span class="id" title="variable">i</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#c9aab5cb3e77736c6718b089f8ae76bd"><span class="id" title="notation">)</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#23c9824843d8074d89ce0ae22df540a6"><span class="id" title="notation">].[</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#upn"><span class="id" title="abbreviation">upn</span></a> <a class="idref" href="D.asubst_base.html#i:168"><span class="id" title="variable">i</span></a> (<a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#ren"><span class="id" title="definition">ren</span></a> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#c9aab5cb3e77736c6718b089f8ae76bd"><span class="id" title="notation">(+</span></a>1<a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#c9aab5cb3e77736c6718b089f8ae76bd"><span class="id" title="notation">)</span></a>)<a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#23c9824843d8074d89ce0ae22df540a6"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="D.asubst_base.html#v:169"><span class="id" title="variable">v</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#23c9824843d8074d89ce0ae22df540a6"><span class="id" title="notation">.[</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#ren"><span class="id" title="definition">ren</span></a> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#c9aab5cb3e77736c6718b089f8ae76bd"><span class="id" title="notation">(+</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="D.asubst_base.html#i:168"><span class="id" title="variable">i</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#c9aab5cb3e77736c6718b089f8ae76bd"><span class="id" title="notation">)</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#23c9824843d8074d89ce0ae22df540a6"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="D.asubst_base.html#Sorts.ren_upn_gen"><span class="id" title="lemma">ren_upn_gen</span></a> <span class="id" title="var">i</span> 0 1). <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#plusnS"><span class="id" title="lemma">plusnS</span></a> !<a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#plusnO"><span class="id" title="lemma">plusnO</span></a> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#subst_comp"><span class="id" title="method">subst_comp</span></a> =&gt;-&gt;.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Sorts.hren_upn" class="idref" href="#Sorts.hren_upn"><span class="id" title="lemma">hren_upn</span></a> <a id="i:170" class="idref" href="#i:170"><span class="id" title="binder">i</span></a> <a id="x:171" class="idref" href="#x:171"><span class="id" title="binder">x</span></a> : <a class="idref" href="D.asubst_base.html#x:171"><span class="id" title="variable">x</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#6e9577796b11d951bea86f7d274e37fd"><span class="id" title="notation">.|[</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#ren"><span class="id" title="definition">ren</span></a> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#c9aab5cb3e77736c6718b089f8ae76bd"><span class="id" title="notation">(+</span></a><a class="idref" href="D.asubst_base.html#i:170"><span class="id" title="variable">i</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#c9aab5cb3e77736c6718b089f8ae76bd"><span class="id" title="notation">)</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#6e9577796b11d951bea86f7d274e37fd"><span class="id" title="notation">].|[</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#upn"><span class="id" title="abbreviation">upn</span></a> <a class="idref" href="D.asubst_base.html#i:170"><span class="id" title="variable">i</span></a> (<a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#ren"><span class="id" title="definition">ren</span></a> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#c9aab5cb3e77736c6718b089f8ae76bd"><span class="id" title="notation">(+</span></a>1<a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#c9aab5cb3e77736c6718b089f8ae76bd"><span class="id" title="notation">)</span></a>)<a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#6e9577796b11d951bea86f7d274e37fd"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="D.asubst_base.html#x:171"><span class="id" title="variable">x</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#6e9577796b11d951bea86f7d274e37fd"><span class="id" title="notation">.|[</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#ren"><span class="id" title="definition">ren</span></a> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#c9aab5cb3e77736c6718b089f8ae76bd"><span class="id" title="notation">(+</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="D.asubst_base.html#i:170"><span class="id" title="variable">i</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#c9aab5cb3e77736c6718b089f8ae76bd"><span class="id" title="notation">)</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#6e9577796b11d951bea86f7d274e37fd"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="D.asubst_base.html#Sorts.ren_upn_gen"><span class="id" title="lemma">ren_upn_gen</span></a> <span class="id" title="var">i</span> 0 1). <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#plusnS"><span class="id" title="lemma">plusnS</span></a> !<a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#plusnO"><span class="id" title="lemma">plusnO</span></a> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#hsubst_comp"><span class="id" title="method">hsubst_comp</span></a> =&gt;-&gt;.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Sorts.hren_upn_gen" class="idref" href="#Sorts.hren_upn_gen"><span class="id" title="lemma">hren_upn_gen</span></a> <a id="i:172" class="idref" href="#i:172"><span class="id" title="binder">i</span></a> <a id="j:173" class="idref" href="#j:173"><span class="id" title="binder">j</span></a> <a id="k:174" class="idref" href="#k:174"><span class="id" title="binder">k</span></a> <a id="x:175" class="idref" href="#x:175"><span class="id" title="binder">x</span></a> : <a class="idref" href="D.asubst_base.html#x:175"><span class="id" title="variable">x</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#6e9577796b11d951bea86f7d274e37fd"><span class="id" title="notation">.|[</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#ren"><span class="id" title="definition">ren</span></a> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#c9aab5cb3e77736c6718b089f8ae76bd"><span class="id" title="notation">(+</span></a><a class="idref" href="D.asubst_base.html#i:172"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="D.asubst_base.html#j:173"><span class="id" title="variable">j</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#c9aab5cb3e77736c6718b089f8ae76bd"><span class="id" title="notation">)</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#6e9577796b11d951bea86f7d274e37fd"><span class="id" title="notation">].|[</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#upn"><span class="id" title="abbreviation">upn</span></a> <a class="idref" href="D.asubst_base.html#i:172"><span class="id" title="variable">i</span></a> (<a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#ren"><span class="id" title="definition">ren</span></a> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#c9aab5cb3e77736c6718b089f8ae76bd"><span class="id" title="notation">(+</span></a><a class="idref" href="D.asubst_base.html#k:174"><span class="id" title="variable">k</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#c9aab5cb3e77736c6718b089f8ae76bd"><span class="id" title="notation">)</span></a>)<a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#6e9577796b11d951bea86f7d274e37fd"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="D.asubst_base.html#x:175"><span class="id" title="variable">x</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#6e9577796b11d951bea86f7d274e37fd"><span class="id" title="notation">.|[</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#ren"><span class="id" title="definition">ren</span></a> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#c9aab5cb3e77736c6718b089f8ae76bd"><span class="id" title="notation">(+</span></a><a class="idref" href="D.asubst_base.html#i:172"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="D.asubst_base.html#j:173"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="D.asubst_base.html#k:174"><span class="id" title="variable">k</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#c9aab5cb3e77736c6718b089f8ae76bd"><span class="id" title="notation">)</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#6e9577796b11d951bea86f7d274e37fd"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#hsubst_comp"><span class="id" title="method">hsubst_comp</span></a> <a class="idref" href="D.asubst_base.html#Sorts.ren_upn_gen"><span class="id" title="lemma">ren_upn_gen</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Sorts.cons_subst" class="idref" href="#Sorts.cons_subst"><span class="id" title="lemma">cons_subst</span></a> <a id="i:176" class="idref" href="#i:176"><span class="id" title="binder">i</span></a> <a id="x:177" class="idref" href="#x:177"><span class="id" title="binder">x</span></a> <a id="s:178" class="idref" href="#s:178"><span class="id" title="binder">s</span></a> (<a id="c:179" class="idref" href="#c:179"><span class="id" title="binder">c</span></a> : <a class="idref" href="D.asubst_base.html#Sorts.sort_lemmas.X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.asubst_base.html#Sorts.sort_lemmas.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hsub:181" class="idref" href="#Hsub:181"><span class="id" title="binder">Hsub</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="y:180" class="idref" href="#y:180"><span class="id" title="binder">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#6e9577796b11d951bea86f7d274e37fd"><span class="id" title="notation">(</span></a><a class="idref" href="D.asubst_base.html#c:179"><span class="id" title="variable">c</span></a> <a class="idref" href="D.asubst_base.html#y:180"><span class="id" title="variable">y</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#6e9577796b11d951bea86f7d274e37fd"><span class="id" title="notation">).|[</span></a><a class="idref" href="D.asubst_base.html#s:178"><span class="id" title="variable">s</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#6e9577796b11d951bea86f7d274e37fd"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="D.asubst_base.html#c:179"><span class="id" title="variable">c</span></a> <a class="idref" href="D.asubst_base.html#y:180"><span class="id" title="variable">y</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#6e9577796b11d951bea86f7d274e37fd"><span class="id" title="notation">.|[</span></a><a class="idref" href="D.asubst_base.html#s:178"><span class="id" title="variable">s</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#6e9577796b11d951bea86f7d274e37fd"><span class="id" title="notation">]</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#6e9577796b11d951bea86f7d274e37fd"><span class="id" title="notation">(</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#iterate"><span class="id" title="definition">iterate</span></a> <a class="idref" href="D.asubst_base.html#c:179"><span class="id" title="variable">c</span></a> <a class="idref" href="D.asubst_base.html#i:176"><span class="id" title="variable">i</span></a> <a class="idref" href="D.asubst_base.html#x:177"><span class="id" title="variable">x</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#6e9577796b11d951bea86f7d274e37fd"><span class="id" title="notation">).|[</span></a><a class="idref" href="D.asubst_base.html#s:178"><span class="id" title="variable">s</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#6e9577796b11d951bea86f7d274e37fd"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#iterate"><span class="id" title="definition">iterate</span></a> <a class="idref" href="D.asubst_base.html#c:179"><span class="id" title="variable">c</span></a> <a class="idref" href="D.asubst_base.html#i:176"><span class="id" title="variable">i</span></a> <a class="idref" href="D.asubst_base.html#x:177"><span class="id" title="variable">x</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#6e9577796b11d951bea86f7d274e37fd"><span class="id" title="notation">.|[</span></a><a class="idref" href="D.asubst_base.html#s:178"><span class="id" title="variable">s</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#6e9577796b11d951bea86f7d274e37fd"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">elim</span>: <span class="id" title="var">i</span> ⇒ [|<span class="id" title="var">i</span> <span class="id" title="var">IHi</span>]; <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#iterate_0"><span class="id" title="lemma">iterate_0</span></a> ?<a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#iterate_S"><span class="id" title="lemma">iterate_S</span></a> //= <span class="id" title="var">Hsub</span> <span class="id" title="var">IHi</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="3d39bdc0d36d055ea46c76f8f26cfbf5" class="idref" href="#3d39bdc0d36d055ea46c76f8f26cfbf5"><span class="id" title="lemma">closed_subst_ids</span></a><a id="3d39bdc0d36d055ea46c76f8f26cfbf5" class="idref" href="#3d39bdc0d36d055ea46c76f8f26cfbf5"><span class="id" title="lemma">ρ</span></a> <a id="x:182" class="idref" href="#x:182"><span class="id" title="binder">x</span></a> <a id="n:183" class="idref" href="#n:183"><span class="id" title="binder">n</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="D.asubst_base.html#Sorts.nclosed"><span class="id" title="definition">nclosed</span></a> <a class="idref" href="D.asubst_base.html#x:182"><span class="id" title="variable">x</span></a> <a class="idref" href="D.asubst_base.html#n:183"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.asubst_base.html#x:182"><span class="id" title="variable">x</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#6e9577796b11d951bea86f7d274e37fd"><span class="id" title="notation">.|[</span></a><a class="idref" href="D.asubst_intf.html#fb8e988ecab04d1ae39c9a75787321aa"><span class="id" title="notation">∞</span></a> <a class="idref" href="D.asubst_intf.html#fb8e988ecab04d1ae39c9a75787321aa"><span class="id" title="notation">(</span></a><a class="idref" href="D.asubst_base.html#a3c3e2ec07a494b8dbe773213e4b6d08"><span class="id" title="definition">ids</span></a><a class="idref" href="D.asubst_base.html#a3c3e2ec07a494b8dbe773213e4b6d08"><span class="id" title="definition">σ</span></a> <a class="idref" href="D.asubst_base.html#n:183"><span class="id" title="variable">n</span></a><a class="idref" href="D.asubst_intf.html#fb8e988ecab04d1ae39c9a75787321aa"><span class="id" title="notation">)</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#6e9577796b11d951bea86f7d274e37fd"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="D.asubst_base.html#x:182"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">Hcl</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">Hcl</span> <span class="id" title="var">_</span> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#ids"><span class="id" title="definition">ids</span></a> (@<a class="idref" href="D.asubst_base.html#6ea4493a51f27f787885cc1fc0fea1b1"><span class="id" title="lemma">ids</span></a><a class="idref" href="D.asubst_base.html#6ea4493a51f27f787885cc1fc0fea1b1"><span class="id" title="lemma">σ</span></a><a class="idref" href="D.asubst_base.html#6ea4493a51f27f787885cc1fc0fea1b1"><span class="id" title="lemma">_eq_ids</span></a> <span class="id" title="var">n</span>)). <span class="id" title="tactic">by</span> <span class="id" title="var">asimpl</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Dead&nbsp;but&nbsp;still&nbsp;potentially&nbsp;useful.&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="Sorts.closed_subst_id" class="idref" href="#Sorts.closed_subst_id"><span class="id" title="lemma">closed_subst_id</span></a> <a id="x:184" class="idref" href="#x:184"><span class="id" title="binder">x</span></a> <a id="03154cf3adde5ea7f5f07845a9284e3a" class="idref" href="#03154cf3adde5ea7f5f07845a9284e3a"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="D.asubst_base.html#Sorts.nclosed"><span class="id" title="definition">nclosed</span></a> <a class="idref" href="D.asubst_base.html#x:184"><span class="id" title="variable">x</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.asubst_base.html#x:184"><span class="id" title="variable">x</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#6e9577796b11d951bea86f7d274e37fd"><span class="id" title="notation">.|[</span></a><a class="idref" href="D.asubst_base.html#03154cf3adde5ea7f5f07845a9284e3a"><span class="id" title="variable">ρ</span></a><a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#6e9577796b11d951bea86f7d274e37fd"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="D.asubst_base.html#x:184"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">Hcl</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">Hcl</span> ρ <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#ids"><span class="id" title="definition">ids</span></a>) ?<a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#hsubst_id"><span class="id" title="method">hsubst_id</span></a> //. <span class="id" title="tactic">exact</span>: <a class="idref" href="D.asubst_base.html#Sorts.eq_n_s_total"><span class="id" title="lemma">eq_n_s_total</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Sorts.fv_cons_inv" class="idref" href="#Sorts.fv_cons_inv"><span class="id" title="lemma">fv_cons_inv</span></a> <a id="x:186" class="idref" href="#x:186"><span class="id" title="binder">x</span></a> <a id="xs:187" class="idref" href="#xs:187"><span class="id" title="binder">xs</span></a> <a id="n:188" class="idref" href="#n:188"><span class="id" title="binder">n</span></a> : <a class="idref" href="D.asubst_base.html#Sorts.nclosed"><span class="id" title="definition">nclosed</span></a> (<a class="idref" href="D.asubst_base.html#x:186"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="D.asubst_base.html#xs:187"><span class="id" title="variable">xs</span></a>) <a class="idref" href="D.asubst_base.html#n:188"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.asubst_base.html#Sorts.nclosed"><span class="id" title="definition">nclosed</span></a> <a class="idref" href="D.asubst_base.html#x:186"><span class="id" title="variable">x</span></a> <a class="idref" href="D.asubst_base.html#n:188"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="D.asubst_base.html#Sorts.nclosed"><span class="id" title="definition">nclosed</span></a> <a class="idref" href="D.asubst_base.html#xs:187"><span class="id" title="variable">xs</span></a> <a class="idref" href="D.asubst_base.html#n:188"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hcl</span>; <span class="id" title="tactic">split</span>; <span class="id" title="var">solve_inv_fv_congruence_h</span> <span class="id" title="var">Hcl</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="Sorts.nclosed_xs" class="idref" href="#Sorts.nclosed_xs"><span class="id" title="definition">nclosed_xs</span></a> <a id="xs:189" class="idref" href="#xs:189"><span class="id" title="binder">xs</span></a> <a id="n:190" class="idref" href="#n:190"><span class="id" title="binder">n</span></a> := (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="x:191" class="idref" href="#x:191"><span class="id" title="binder">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="D.asubst_base.html#Sorts.nclosed"><span class="id" title="definition">nclosed</span></a> <a class="idref" href="D.asubst_base.html#x:191"><span class="id" title="variable">x</span></a> <a class="idref" href="D.asubst_base.html#n:190"><span class="id" title="variable">n</span></a>) <a class="idref" href="D.asubst_base.html#xs:189"><span class="id" title="variable">xs</span></a>).<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="D.asubst_base.html#Sorts.nclosed_xs"><span class="id" title="definition">nclosed_xs</span></a> /.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Sorts.Forall_to_closed_xs" class="idref" href="#Sorts.Forall_to_closed_xs"><span class="id" title="lemma">Forall_to_closed_xs</span></a> <a id="n:192" class="idref" href="#n:192"><span class="id" title="binder">n</span></a> <a id="xs:193" class="idref" href="#xs:193"><span class="id" title="binder">xs</span></a>: <a class="idref" href="D.asubst_base.html#Sorts.nclosed_xs"><span class="id" title="definition">nclosed_xs</span></a> <a class="idref" href="D.asubst_base.html#xs:193"><span class="id" title="variable">xs</span></a> <a class="idref" href="D.asubst_base.html#n:192"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.asubst_base.html#Sorts.nclosed"><span class="id" title="definition">nclosed</span></a> <a class="idref" href="D.asubst_base.html#xs:193"><span class="id" title="variable">xs</span></a> <a class="idref" href="D.asubst_base.html#n:192"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">xs</span> ⇒ [|<span class="id" title="var">x</span> <span class="id" title="var">xs</span> <span class="id" title="var">IHds</span>] <span class="id" title="var">Hcl</span> //=.<br/>
&nbsp;&nbsp;<span class="id" title="var">inverse</span> <span class="id" title="var">Hcl</span>; <span class="id" title="tactic">eapply</span> (@<a class="idref" href="D.asubst_base.html#Sorts.fv_cons"><span class="id" title="lemma">fv_cons</span></a> <a class="idref" href="D.asubst_base.html#Sorts.sort_lemmas.X"><span class="id" title="variable">X</span></a>); <span class="id" title="tactic">by</span> [ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHds</span> | ].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Sorts.closed_xs_to_Forall" class="idref" href="#Sorts.closed_xs_to_Forall"><span class="id" title="lemma">closed_xs_to_Forall</span></a> <a id="n:194" class="idref" href="#n:194"><span class="id" title="binder">n</span></a> <a id="xs:195" class="idref" href="#xs:195"><span class="id" title="binder">xs</span></a>: <a class="idref" href="D.asubst_base.html#Sorts.nclosed"><span class="id" title="definition">nclosed</span></a> <a class="idref" href="D.asubst_base.html#xs:195"><span class="id" title="variable">xs</span></a> <a class="idref" href="D.asubst_base.html#n:194"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.asubst_base.html#Sorts.nclosed_xs"><span class="id" title="definition">nclosed_xs</span></a> <a class="idref" href="D.asubst_base.html#xs:195"><span class="id" title="variable">xs</span></a> <a class="idref" href="D.asubst_base.html#n:194"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">elim</span>: <span class="id" title="var">xs</span> ⇒ /= [//|<span class="id" title="var">x</span> <span class="id" title="var">xs</span> <span class="id" title="var">IHxs</span>] /<a class="idref" href="D.asubst_base.html#Sorts.fv_cons_inv"><span class="id" title="lemma">fv_cons_inv</span></a> [<span class="id" title="var">Hclx</span> <span class="id" title="var">Hclxs</span>]. <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Sorts.nclosed_xs_eq_nclosed" class="idref" href="#Sorts.nclosed_xs_eq_nclosed"><span class="id" title="lemma">nclosed_xs_eq_nclosed</span></a> <a id="n:196" class="idref" href="#n:196"><span class="id" title="binder">n</span></a> <a id="xs:197" class="idref" href="#xs:197"><span class="id" title="binder">xs</span></a>: <a class="idref" href="D.asubst_base.html#Sorts.nclosed_xs"><span class="id" title="definition">nclosed_xs</span></a> <a class="idref" href="D.asubst_base.html#xs:197"><span class="id" title="variable">xs</span></a> <a class="idref" href="D.asubst_base.html#n:196"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="D.asubst_base.html#Sorts.nclosed"><span class="id" title="definition">nclosed</span></a> <a class="idref" href="D.asubst_base.html#xs:197"><span class="id" title="variable">xs</span></a> <a class="idref" href="D.asubst_base.html#n:196"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="D.asubst_base.html#Sorts.Forall_to_closed_xs"><span class="id" title="lemma">Forall_to_closed_xs</span></a>, <a class="idref" href="D.asubst_base.html#Sorts.closed_xs_to_Forall"><span class="id" title="lemma">closed_xs_to_Forall</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="D.asubst_base.html#Sorts.sort_lemmas"><span class="id" title="section">sort_lemmas</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="Sorts.sort_lemmas_2" class="idref" href="#Sorts.sort_lemmas_2"><span class="id" title="section">sort_lemmas_2</span></a>.<br/>
<span class="id" title="keyword">Context</span> `{<a id="_HiA:199" class="idref" href="#_HiA:199"><span class="id" title="binder">_HiA</span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#Inhabited"><span class="id" title="class">Inhabited</span></a> <a id="A:198" class="idref" href="#A:198"><span class="id" title="binder">A</span></a>} `{<a id="_HsX:206" class="idref" href="#_HsX:206"><span class="id" title="binder">_HsX</span></a>: <a class="idref" href="D.asubst_base.html#Sorts.Sort"><span class="id" title="class">Sort</span></a> <a id="X:200" class="idref" href="#X:200"><span class="id" title="binder">X</span></a>}.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> (<span class="id" title="var">a</span> : <a class="idref" href="D.asubst_base.html#Sorts.sort_lemmas_2.A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">x</span> : <a class="idref" href="D.asubst_base.html#Sorts.sort_lemmas_2.X"><span class="id" title="variable">X</span></a>) (<span class="id" title="var">Γ</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="D.asubst_base.html#Sorts.sort_lemmas_2.X"><span class="id" title="variable">X</span></a>) (<span class="id" title="var">axs</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="D.asubst_base.html#Sorts.sort_lemmas_2.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="D.asubst_base.html#Sorts.sort_lemmas_2.X"><span class="id" title="variable">X</span></a>)).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Sorts.fv_pair_inv" class="idref" href="#Sorts.fv_pair_inv"><span class="id" title="lemma">fv_pair_inv</span></a> <a id="a:207" class="idref" href="#a:207"><span class="id" title="binder">a</span></a> <a id="x:208" class="idref" href="#x:208"><span class="id" title="binder">x</span></a> <a id="n:209" class="idref" href="#n:209"><span class="id" title="binder">n</span></a> : <a class="idref" href="D.asubst_base.html#Sorts.nclosed"><span class="id" title="definition">nclosed</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="D.asubst_base.html#a:207"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="D.asubst_base.html#x:208"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="D.asubst_base.html#n:209"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.asubst_base.html#Sorts.nclosed"><span class="id" title="definition">nclosed</span></a> <a class="idref" href="D.asubst_base.html#x:208"><span class="id" title="variable">x</span></a> <a class="idref" href="D.asubst_base.html#n:209"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_inv_fv_congruence</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="Sorts.nclosed_axs" class="idref" href="#Sorts.nclosed_axs"><span class="id" title="definition">nclosed_axs</span></a> <a id="axs:210" class="idref" href="#axs:210"><span class="id" title="binder">axs</span></a> <a id="n:211" class="idref" href="#n:211"><span class="id" title="binder">n</span></a> := (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:214" class="idref" href="#pat:214"><span class="id" title="binder">(</span></a><a id="pat:214" class="idref" href="#pat:214"><span class="id" title="binder">a</span></a><a id="pat:214" class="idref" href="#pat:214"><span class="id" title="binder">,</span></a> <a id="pat:214" class="idref" href="#pat:214"><span class="id" title="binder">x</span></a><a id="pat:214" class="idref" href="#pat:214"><span class="id" title="binder">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="D.asubst_base.html#Sorts.nclosed"><span class="id" title="definition">nclosed</span></a> <a class="idref" href="D.asubst_base.html#x:212"><span class="id" title="variable">x</span></a> <a class="idref" href="D.asubst_base.html#n:211"><span class="id" title="variable">n</span></a>) <a class="idref" href="D.asubst_base.html#axs:210"><span class="id" title="variable">axs</span></a>).<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="D.asubst_base.html#Sorts.nclosed_axs"><span class="id" title="definition">nclosed_axs</span></a> /.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Sorts.nclosed_axs_to_nclosed_xs" class="idref" href="#Sorts.nclosed_axs_to_nclosed_xs"><span class="id" title="lemma">nclosed_axs_to_nclosed_xs</span></a> <a id="n:215" class="idref" href="#n:215"><span class="id" title="binder">n</span></a> <a id="axs:216" class="idref" href="#axs:216"><span class="id" title="binder">axs</span></a>: <a class="idref" href="D.asubst_base.html#Sorts.nclosed_axs"><span class="id" title="definition">nclosed_axs</span></a> <a class="idref" href="D.asubst_base.html#axs:216"><span class="id" title="variable">axs</span></a> <a class="idref" href="D.asubst_base.html#n:215"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="D.asubst_base.html#Sorts.nclosed_xs"><span class="id" title="definition">nclosed_xs</span></a> <a class="idref" href="D.asubst_base.html#axs:216"><span class="id" title="variable">axs</span></a> <a class="idref" href="D.asubst_base.html#n:215"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">split</span> ⇒ ?; <span class="id" title="var">decompose_Forall</span>; <span class="id" title="var">case_match</span>; [<span class="id" title="tactic">exact</span>: <a class="idref" href="D.asubst_base.html#Sorts.fv_pair"><span class="id" title="lemma">fv_pair</span></a> | <span class="id" title="tactic">exact</span>: <a class="idref" href="D.asubst_base.html#Sorts.fv_pair_inv"><span class="id" title="lemma">fv_pair_inv</span></a>]. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Sorts.nclosed_axs_to_nclosed" class="idref" href="#Sorts.nclosed_axs_to_nclosed"><span class="id" title="lemma">nclosed_axs_to_nclosed</span></a> <a id="n:217" class="idref" href="#n:217"><span class="id" title="binder">n</span></a> <a id="axs:218" class="idref" href="#axs:218"><span class="id" title="binder">axs</span></a>: <a class="idref" href="D.asubst_base.html#Sorts.nclosed_axs"><span class="id" title="definition">nclosed_axs</span></a> <a class="idref" href="D.asubst_base.html#axs:218"><span class="id" title="variable">axs</span></a> <a class="idref" href="D.asubst_base.html#n:217"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="D.asubst_base.html#Sorts.nclosed"><span class="id" title="definition">nclosed</span></a> <a class="idref" href="D.asubst_base.html#axs:218"><span class="id" title="variable">axs</span></a> <a class="idref" href="D.asubst_base.html#n:217"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="D.asubst_base.html#Sorts.nclosed_axs_to_nclosed_xs"><span class="id" title="lemma">nclosed_axs_to_nclosed_xs</span></a> <a class="idref" href="D.asubst_base.html#Sorts.nclosed_xs_eq_nclosed"><span class="id" title="lemma">nclosed_xs_eq_nclosed</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Sorts.ren_scons" class="idref" href="#Sorts.ren_scons"><span class="id" title="lemma">ren_scons</span></a> <a id="v:219" class="idref" href="#v:219"><span class="id" title="binder">v</span></a> <a id="03a7f0db414d40913f997130a6ebf70a" class="idref" href="#03a7f0db414d40913f997130a6ebf70a"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#ren"><span class="id" title="definition">ren</span></a> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#c9aab5cb3e77736c6718b089f8ae76bd"><span class="id" title="notation">(+</span></a>1<a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#c9aab5cb3e77736c6718b089f8ae76bd"><span class="id" title="notation">)</span></a> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#::subst_scope:x_'&gt;&gt;'_x"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="D.asubst_base.html#v:219"><span class="id" title="variable">v</span></a> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#::subst_scope:x_'.:'_x"><span class="id" title="notation">.:</span></a> <a class="idref" href="D.asubst_base.html#03a7f0db414d40913f997130a6ebf70a"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="D.asubst_base.html#03a7f0db414d40913f997130a6ebf70a"><span class="id" title="variable">ρ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#ren"><span class="id" title="definition">ren</span></a>/<a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Classes.html#scomp"><span class="id" title="definition">scomp</span></a>; <span class="id" title="var">fsimpl</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Tactics.html#id_scompX"><span class="id" title="lemma">id_scompX</span></a> (<span class="id" title="var">v</span> <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#::subst_scope:x_'.:'_x"><span class="id" title="notation">.:</span></a> ρ)). <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="D.asubst_base.html#Sorts.sort_lemmas_2"><span class="id" title="section">sort_lemmas_2</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="D.asubst_base.html#Sorts"><span class="id" title="module">Sorts</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Type</span> <a id="VlSortsFullSig" class="idref" href="#VlSortsFullSig"><span class="id" title="module">VlSortsFullSig</span></a> &lt;: <a class="idref" href="D.asubst_intf.html#VlSortsSig"><span class="id" title="module">VlSortsSig</span></a> := <a class="idref" href="D.asubst_intf.html#ValuesSig"><span class="id" title="module">ValuesSig</span></a> &lt;+ <a class="idref" href="D.asubst_base.html#Sorts"><span class="id" title="module">Sorts</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
