<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">D.iris_extra.det_reduction</h1>

<div class="code">
</div>

<div class="doc">
<a id="lab5"></a><h1 class="section">Define when a language is deterministic and when an expression is safe.</h1>

</div>
<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">D</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="D.prelude.html#"><span class="id" title="library">prelude</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.program_logic</span> <span class="id" title="keyword">Require</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris/iris.program_logic.language.html#"><span class="id" title="library">language</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris/iris.program_logic.ectx_language.html#"><span class="id" title="library">ectx_language</span></a>.<br/>

<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Suggest</span> <span class="id" title="keyword">Proof</span> <span class="id" title="var">Using</span>.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Default</span> <span class="id" title="keyword">Proof</span> <span class="id" title="var">Using</span> "Type*".<br/>

<br/>
<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>
<span class="id" title="keyword">Unset</span> <span class="id" title="keyword">Strict</span> <span class="id" title="keyword">Implicit</span>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a id="L" class="idref" href="#L"><span class="id" title="module">L</span></a> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris/iris.program_logic.language.html#"><span class="id" title="module">language</span></a>.<br/>
<span class="id" title="keyword">Module</span> <a id="EL" class="idref" href="#EL"><span class="id" title="module">EL</span></a> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris/iris.program_logic.ectx_language.html#"><span class="id" title="module">ectx_language</span></a>.<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">L</span> <span class="id" title="var">EL</span>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> (<span class="id" title="var">Λ</span> : <a class="idref" href="D.iris_extra.det_reduction.html#language"><span class="id" title="record">language</span></a>).<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a id="LanguageCtx_proper" class="idref" href="#LanguageCtx_proper"><span class="id" title="instance">LanguageCtx_proper</span></a> <a id="aed330fafc52497700df4a17b24e754e" class="idref" href="#aed330fafc52497700df4a17b24e754e"><span class="id" title="binder">Λ</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Program.Basics.html#impl"><span class="id" title="definition">impl</span></a>) (@<a class="idref" href="D.iris_extra.det_reduction.html#LanguageCtx"><span class="id" title="class">LanguageCtx</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#aed330fafc52497700df4a17b24e754e"><span class="id" title="variable">Λ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">K1</span> <span class="id" title="var">K2</span> <span class="id" title="var">Heq</span> [???]; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> *; <span class="id" title="tactic">setoid_rewrite</span> &lt;-<span class="id" title="var">Heq</span> ⇒ *; <span class="id" title="tactic">auto</span> 2.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a id="unit_pi" class="idref" href="#unit_pi"><span class="id" title="instance">unit_pi</span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#ProofIrrel"><span class="id" title="class">ProofIrrel</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Program.Syntax.html#fbbfb55f1ee0a61e0473fa0799e34e17"><span class="id" title="notation">()</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> [] []. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab6"></a><h2 class="section"><span class="inlinecode"><a class="idref" href="D.iris_extra.det_reduction.html#LangDet"><span class="id" title="section">LangDet</span></a></span> defines when a language is deterministic.</h2>

</div>
<div class="code">
<span class="comment">(*&nbsp;Instances&nbsp;of&nbsp;<span class="inlinecode"><span class="id" title="var">Inhabited</span></span>&nbsp;must&nbsp;not&nbsp;be&nbsp;bundled,&nbsp;as&nbsp;usual&nbsp;for&nbsp;operational&nbsp;type<br/>
classes.&nbsp;*)</span><br/>
<span class="id" title="keyword">Notation</span> <a id="InhabitedState" class="idref" href="#InhabitedState"><span class="id" title="abbreviation">InhabitedState</span></a> <span class="id" title="var">Λ</span> := (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#Inhabited"><span class="id" title="class">Inhabited</span></a> (<a class="idref" href="D.iris_extra.det_reduction.html#state"><span class="id" title="projection">L.state</span></a> <span class="id" title="var">Λ</span>)).<br/>
<span class="id" title="keyword">Class</span> <a id="LangDet" class="idref" href="#LangDet"><span class="id" title="record">LangDet</span></a> (<a id="58e674108a556f77ea3c5ef959e658b0" class="idref" href="#58e674108a556f77ea3c5ef959e658b0"><span class="id" title="binder">Λ</span></a> : <a class="idref" href="D.iris_extra.det_reduction.html#language"><span class="id" title="record">L.language</span></a>) `{<a id="InhabitedState0:3" class="idref" href="#InhabitedState0:3"><span class="id" title="binder">InhabitedState</span></a> <a id="InhabitedState0:3" class="idref" href="#InhabitedState0:3"><span class="id" title="binder">Λ</span></a>} := {<br/>
&nbsp;&nbsp;<a id="prim_step_PureExec" class="idref" href="#prim_step_PureExec"><span class="id" title="projection">prim_step_PureExec</span></a> (<a id="e1:5" class="idref" href="#e1:5"><span class="id" title="binder">e1</span></a> <a id="e2:6" class="idref" href="#e2:6"><span class="id" title="binder">e2</span></a> : <a class="idref" href="D.iris_extra.det_reduction.html#expr"><span class="id" title="projection">L.expr</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#58e674108a556f77ea3c5ef959e658b0"><span class="id" title="variable">Λ</span></a>) <a id="e25ea4ae6eee399a48ec209a26465196" class="idref" href="#e25ea4ae6eee399a48ec209a26465196"><span class="id" title="binder">σ1</span></a> <a id="8daa7f4641217965436bedb4613cee95" class="idref" href="#8daa7f4641217965436bedb4613cee95"><span class="id" title="binder">κ</span></a> <a id="c7a9dbebfb6d53b93ba0bb89e194c205" class="idref" href="#c7a9dbebfb6d53b93ba0bb89e194c205"><span class="id" title="binder">σ2</span></a> <a id="efs:10" class="idref" href="#efs:10"><span class="id" title="binder">efs</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="D.iris_extra.det_reduction.html#prim_step"><span class="id" title="projection">L.prim_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e1:5"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e25ea4ae6eee399a48ec209a26465196"><span class="id" title="variable">σ1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#8daa7f4641217965436bedb4613cee95"><span class="id" title="variable">κ</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2:6"><span class="id" title="variable">e2</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#c7a9dbebfb6d53b93ba0bb89e194c205"><span class="id" title="variable">σ2</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#efs:10"><span class="id" title="variable">efs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#PureExec"><span class="id" title="class">PureExec</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#::type_scope:'True'"><span class="id" title="notation">True</span></a> 1 <a class="idref" href="D.iris_extra.det_reduction.html#e1:5"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2:6"><span class="id" title="variable">e2</span></a>;<br/>
&nbsp;&nbsp;<a id="lang_inh_state" class="idref" href="#lang_inh_state"><span class="id" title="projection">lang_inh_state</span></a> :&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#ProofIrrel"><span class="id" title="class">ProofIrrel</span></a> (<a class="idref" href="D.iris_extra.det_reduction.html#state"><span class="id" title="projection">L.state</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#58e674108a556f77ea3c5ef959e658b0"><span class="id" title="variable">Λ</span></a>)<br/>
}.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="D.iris_extra.det_reduction.html#LangDet"><span class="id" title="class">LangDet</span></a> <span class="id" title="var">Λ</span> {<span class="id" title="var">_</span>}.<br/>

<br/>
<span class="id" title="keyword">Class</span> <a id="EctxLangDet" class="idref" href="#EctxLangDet"><span class="id" title="record">EctxLangDet</span></a> (<a id="67ded19ef3026183aa1627823ea03254" class="idref" href="#67ded19ef3026183aa1627823ea03254"><span class="id" title="binder">Λ</span></a> : <a class="idref" href="D.iris_extra.det_reduction.html#ectxLanguage"><span class="id" title="record">EL.ectxLanguage</span></a>) `{<a id="InhabitedState0:14" class="idref" href="#InhabitedState0:14"><span class="id" title="binder">InhabitedState</span></a> <a id="InhabitedState0:14" class="idref" href="#InhabitedState0:14"><span class="id" title="binder">Λ</span></a>} := {<br/>
&nbsp;&nbsp;<a id="head_step_PureExec" class="idref" href="#head_step_PureExec"><span class="id" title="projection">head_step_PureExec</span></a> (<a id="e1:16" class="idref" href="#e1:16"><span class="id" title="binder">e1</span></a> <a id="e2:17" class="idref" href="#e2:17"><span class="id" title="binder">e2</span></a> : <a class="idref" href="D.iris_extra.det_reduction.html#expr"><span class="id" title="projection">L.expr</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#67ded19ef3026183aa1627823ea03254"><span class="id" title="variable">Λ</span></a>) <a id="f6f9489371b5a13f4fcd68fddce70462" class="idref" href="#f6f9489371b5a13f4fcd68fddce70462"><span class="id" title="binder">σ1</span></a> <a id="fbc52f603273c64cb05ced6be9a615a9" class="idref" href="#fbc52f603273c64cb05ced6be9a615a9"><span class="id" title="binder">κ</span></a> <a id="d858c0cf84db711da334bc953fdfd471" class="idref" href="#d858c0cf84db711da334bc953fdfd471"><span class="id" title="binder">σ2</span></a> <a id="efs:21" class="idref" href="#efs:21"><span class="id" title="binder">efs</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="D.iris_extra.det_reduction.html#head_step"><span class="id" title="projection">EL.head_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e1:16"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#f6f9489371b5a13f4fcd68fddce70462"><span class="id" title="variable">σ1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#fbc52f603273c64cb05ced6be9a615a9"><span class="id" title="variable">κ</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2:17"><span class="id" title="variable">e2</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#d858c0cf84db711da334bc953fdfd471"><span class="id" title="variable">σ2</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#efs:21"><span class="id" title="variable">efs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#PureExec"><span class="id" title="class">L.PureExec</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#::type_scope:'True'"><span class="id" title="notation">True</span></a> 1 <a class="idref" href="D.iris_extra.det_reduction.html#e1:16"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2:17"><span class="id" title="variable">e2</span></a>;<br/>
&nbsp;&nbsp;<a id="ectx_inh_state" class="idref" href="#ectx_inh_state"><span class="id" title="projection">ectx_inh_state</span></a> :&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#ProofIrrel"><span class="id" title="class">ProofIrrel</span></a> (<a class="idref" href="D.iris_extra.det_reduction.html#state"><span class="id" title="projection">L.state</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#67ded19ef3026183aa1627823ea03254"><span class="id" title="variable">Λ</span></a>)<br/>
}.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="D.iris_extra.det_reduction.html#EctxLangDet"><span class="id" title="class">EctxLangDet</span></a> <span class="id" title="var">Λ</span> {<span class="id" title="var">_</span>}.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="dummyState" class="idref" href="#dummyState"><span class="id" title="abbreviation">dummyState</span></a> := (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#inhabitant"><span class="id" title="method">inhabitant</span></a> (<span class="id" title="var">A</span> := <a class="idref" href="D.iris_extra.det_reduction.html#state"><span class="id" title="projection">L.state</span></a> <span class="id" title="var">_</span>)).<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">uniqueState</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">s</span> : ?<span class="id" title="var">T</span> |- <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Λ</span> := <span class="id" title="tactic">fresh</span> "Λ" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">evar</span> (<span class="id" title="var">Λ</span> : <a class="idref" href="D.iris_extra.det_reduction.html#language"><span class="id" title="record">language</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unify</span> <span class="id" title="var">T</span> (<a class="idref" href="D.iris_extra.det_reduction.html#state"><span class="id" title="projection">L.state</span></a> ?<span class="id" title="var">Λ</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">Λ</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">s</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#dummyState"><span class="id" title="abbreviation">dummyState</span></a>) <span class="id" title="keyword">as</span> → <span class="id" title="tactic">by</span> <span class="id" title="tactic">exact</span>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#proof_irrel"><span class="id" title="definition">proof_irrel</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
This defines, in fact, pure and deterministic termination. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="terminates" class="idref" href="#terminates"><span class="id" title="definition">terminates</span></a> {<a id="ec3b513e937ce70285e18675deea9a14" class="idref" href="#ec3b513e937ce70285e18675deea9a14"><span class="id" title="binder">Λ</span></a>} (<a id="e:25" class="idref" href="#e:25"><span class="id" title="binder">e</span></a> : <a class="idref" href="D.iris_extra.det_reduction.html#expr"><span class="id" title="projection">L.expr</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#ec3b513e937ce70285e18675deea9a14"><span class="id" title="variable">Λ</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="v:26" class="idref" href="#v:26"><span class="id" title="binder">v</span></a> : <a class="idref" href="D.iris_extra.det_reduction.html#val"><span class="id" title="projection">L.val</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#ec3b513e937ce70285e18675deea9a14"><span class="id" title="variable">Λ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.relations.html#rtc"><span class="id" title="inductive">rtc</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#pure_step"><span class="id" title="record">pure_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e:25"><span class="id" title="variable">e</span></a> (<a class="idref" href="D.iris_extra.det_reduction.html#of_val"><span class="id" title="projection">L.of_val</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#v:26"><span class="id" title="variable">v</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="PureExec_to_terminates" class="idref" href="#PureExec_to_terminates"><span class="id" title="lemma">PureExec_to_terminates</span></a> {<a id="4a620f50a78458f0fc555571a4deb30b" class="idref" href="#4a620f50a78458f0fc555571a4deb30b"><span class="id" title="binder">Λ</span></a> : <a class="idref" href="D.iris_extra.det_reduction.html#language"><span class="id" title="record">L.language</span></a>} <a id="n:28" class="idref" href="#n:28"><span class="id" title="binder">n</span></a> <a id="25dbd6aa491e5149679c6579fb0ae954" class="idref" href="#25dbd6aa491e5149679c6579fb0ae954"><span class="id" title="binder">φ</span></a> <a id="e:30" class="idref" href="#e:30"><span class="id" title="binder">e</span></a> <a id="v:31" class="idref" href="#v:31"><span class="id" title="binder">v</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="D.iris_extra.det_reduction.html#PureExec"><span class="id" title="class">PureExec</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#25dbd6aa491e5149679c6579fb0ae954"><span class="id" title="variable">φ</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#n:28"><span class="id" title="variable">n</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e:30"><span class="id" title="variable">e</span></a> (<a class="idref" href="D.iris_extra.det_reduction.html#of_val"><span class="id" title="projection">L.of_val</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#v:31"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#25dbd6aa491e5149679c6579fb0ae954"><span class="id" title="variable">φ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#terminates"><span class="id" title="definition">terminates</span></a> (<span class="id" title="var">Λ</span> := <a class="idref" href="D.iris_extra.det_reduction.html#4a620f50a78458f0fc555571a4deb30b"><span class="id" title="variable">Λ</span></a>) <a class="idref" href="D.iris_extra.det_reduction.html#e:30"><span class="id" title="variable">e</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">HP</span> <span class="id" title="var">H</span>φ. <span class="id" title="tactic">∃</span> <span class="id" title="var">v</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.relations.html#nsteps_rtc"><span class="id" title="lemma">nsteps_rtc</span></a>, <span class="id" title="var">HP</span>, <span class="id" title="var">H</span>φ. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="not_stuck" class="idref" href="#not_stuck"><span class="id" title="abbreviation">not_stuck</span></a> <span class="id" title="var">e</span> := (<a class="idref" href="D.iris_extra.det_reduction.html#not_stuck"><span class="id" title="definition">L.not_stuck</span></a> <span class="id" title="var">e</span> <a class="idref" href="D.iris_extra.det_reduction.html#dummyState"><span class="id" title="abbreviation">dummyState</span></a>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab7"></a><h2 class="section">Safety for an arbitrary Iris language.</h2>

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="safe_gen" class="idref" href="#safe_gen"><span class="id" title="definition">safe_gen</span></a> {<a id="a11deb9a622a906061f854d0a049eb82" class="idref" href="#a11deb9a622a906061f854d0a049eb82"><span class="id" title="binder">Λ</span></a>} (<a id="e:33" class="idref" href="#e:33"><span class="id" title="binder">e</span></a> : <a class="idref" href="D.iris_extra.det_reduction.html#expr"><span class="id" title="projection">L.expr</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#a11deb9a622a906061f854d0a049eb82"><span class="id" title="variable">Λ</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="e':34" class="idref" href="#e':34"><span class="id" title="binder">e'</span></a> <a id="thp:35" class="idref" href="#thp:35"><span class="id" title="binder">thp</span></a> <a id="37ad0dd721e485b0343473169ded3613" class="idref" href="#37ad0dd721e485b0343473169ded3613"><span class="id" title="binder">σ</span></a> <a id="9f4340bff215398435c2d439eec82f40" class="idref" href="#9f4340bff215398435c2d439eec82f40"><span class="id" title="binder">σ'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.relations.html#rtc"><span class="id" title="inductive">rtc</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#erased_step"><span class="id" title="definition">erased_step</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="D.iris_extra.det_reduction.html#e:33"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#37ad0dd721e485b0343473169ded3613"><span class="id" title="variable">σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="D.iris_extra.det_reduction.html#thp:35"><span class="id" title="variable">thp</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#9f4340bff215398435c2d439eec82f40"><span class="id" title="variable">σ'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e':34"><span class="id" title="variable">e'</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#thp:35"><span class="id" title="variable">thp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="D.iris_extra.det_reduction.html#not_stuck"><span class="id" title="definition">L.not_stuck</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e':34"><span class="id" title="variable">e'</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#9f4340bff215398435c2d439eec82f40"><span class="id" title="variable">σ'</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab8"></a><h2 class="section">For a deterministic language, we can give a simpler definition.</h2>

<span class="inlinecode"><a class="idref" href="D.iris_extra.det_reduction.html#safe_equiv"><span class="id" title="lemma">safe_equiv</span></a></span> shows this is equivalent to <span class="inlinecode"><a class="idref" href="D.iris_extra.det_reduction.html#safe_gen"><span class="id" title="definition">safe_gen</span></a></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="safe" class="idref" href="#safe"><span class="id" title="definition">safe</span></a> `{<a id="H:40" class="idref" href="#H:40"><span class="id" title="binder">LangDet</span></a> <a id="H:40" class="idref" href="#H:40"><span class="id" title="binder">Λ</span></a>} (<a id="e:41" class="idref" href="#e:41"><span class="id" title="binder">e</span></a> : <a class="idref" href="D.iris_extra.det_reduction.html#expr"><span class="id" title="projection">L.expr</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#ec1f918db06ed8c1648d501d8c21ae04"><span class="id" title="variable">Λ</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="e':42" class="idref" href="#e':42"><span class="id" title="binder">e'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.relations.html#rtc"><span class="id" title="inductive">rtc</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#pure_step"><span class="id" title="record">pure_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e:41"><span class="id" title="variable">e</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e':42"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#not_stuck"><span class="id" title="abbreviation">not_stuck</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e':42"><span class="id" title="variable">e'</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="safe_n" class="idref" href="#safe_n"><span class="id" title="definition">safe_n</span></a> `{<a id="InhabitedState0:44" class="idref" href="#InhabitedState0:44"><span class="id" title="binder">InhabitedState</span></a> <a id="InhabitedState0:44" class="idref" href="#InhabitedState0:44"><span class="id" title="binder">Λ</span></a>} <a id="n:45" class="idref" href="#n:45"><span class="id" title="binder">n</span></a> <a id="e1:46" class="idref" href="#e1:46"><span class="id" title="binder">e1</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="e2:47" class="idref" href="#e2:47"><span class="id" title="binder">e2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.relations.html#nsteps"><span class="id" title="inductive">nsteps</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#pure_step"><span class="id" title="record">pure_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#n:45"><span class="id" title="variable">n</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e1:46"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2:47"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#not_stuck"><span class="id" title="abbreviation">not_stuck</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2:47"><span class="id" title="variable">e2</span></a>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Constructors</span> <a class="idref" href="D.iris_extra.det_reduction.html#rtc"><span class="id" title="inductive">rtc</span></a> : <span class="id" title="var">core</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="LangDet" class="idref" href="#LangDet"><span class="id" title="section">LangDet</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span> {<a id="212f2998a76421e469f0ad4e6c176dc7" class="idref" href="#212f2998a76421e469f0ad4e6c176dc7"><span class="id" title="binder">Λ</span></a>}.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Type</span> (<span class="id" title="var">e</span> <span class="id" title="var">t</span> : <a class="idref" href="D.iris_extra.det_reduction.html#expr"><span class="id" title="projection">L.expr</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#73ddad415cc8cffaba46dbc9f89032f6"><span class="id" title="variable">Λ</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="pure_to_prim" class="idref" href="#pure_to_prim"><span class="id" title="lemma">pure_to_prim</span></a> <a id="e1:49" class="idref" href="#e1:49"><span class="id" title="binder">e1</span></a> <a id="e2:50" class="idref" href="#e2:50"><span class="id" title="binder">e2</span></a> <a id="aabbb3071490a3e89c35c54fc4d8b7c4" class="idref" href="#aabbb3071490a3e89c35c54fc4d8b7c4"><span class="id" title="binder">σ</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="D.iris_extra.det_reduction.html#pure_step"><span class="id" title="record">pure_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e1:49"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2:50"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="D.iris_extra.det_reduction.html#prim_step"><span class="id" title="projection">L.prim_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e1:49"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#aabbb3071490a3e89c35c54fc4d8b7c4"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2:50"><span class="id" title="variable">e2</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#aabbb3071490a3e89c35c54fc4d8b7c4"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ [/(<span class="id" title="var">_</span> σ) [? [? [? <span class="id" title="var">Hsafe</span>]]] <span class="id" title="var">Hpure</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">edestruct</span> <span class="id" title="var">Hpure</span>; [<span class="id" title="tactic">exact</span>: <span class="id" title="var">Hsafe</span>|] ⇒ {<span class="id" title="var">Hpure</span>}. <span class="id" title="var">naive_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Context</span> `{<a id="HlangDet:53" class="idref" href="#HlangDet:53"><span class="id" title="binder">HlangDet</span></a> : <a class="idref" href="D.iris_extra.det_reduction.html#LangDet"><span class="id" title="class">LangDet</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#73ddad415cc8cffaba46dbc9f89032f6"><span class="id" title="variable">Λ</span></a>}.<br/>
<span class="id" title="keyword">Lemma</span> <a id="prim_step_pure" class="idref" href="#prim_step_pure"><span class="id" title="lemma">prim_step_pure</span></a> {<a id="e1:54" class="idref" href="#e1:54"><span class="id" title="binder">e1</span></a> <a id="e2:55" class="idref" href="#e2:55"><span class="id" title="binder">e2</span></a> <a id="50705ecc0be50bd33299b47e8863564e" class="idref" href="#50705ecc0be50bd33299b47e8863564e"><span class="id" title="binder">σ1</span></a> <a id="65994c8a1b1479a9d6568f89518c15a0" class="idref" href="#65994c8a1b1479a9d6568f89518c15a0"><span class="id" title="binder">κ</span></a> <a id="66d9b31926cbfc97db6af83ebd935507" class="idref" href="#66d9b31926cbfc97db6af83ebd935507"><span class="id" title="binder">σ2</span></a> <a id="efs:59" class="idref" href="#efs:59"><span class="id" title="binder">efs</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="D.iris_extra.det_reduction.html#prim_step"><span class="id" title="projection">L.prim_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e1:54"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#50705ecc0be50bd33299b47e8863564e"><span class="id" title="variable">σ1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#65994c8a1b1479a9d6568f89518c15a0"><span class="id" title="variable">κ</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2:55"><span class="id" title="variable">e2</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#66d9b31926cbfc97db6af83ebd935507"><span class="id" title="variable">σ2</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#efs:59"><span class="id" title="variable">efs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#pure_step"><span class="id" title="record">pure_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e1:54"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2:55"><span class="id" title="variable">e2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">move</span> ⇒ /<a class="idref" href="D.iris_extra.det_reduction.html#prim_step_PureExec"><span class="id" title="method">prim_step_PureExec</span></a> /(<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#I"><span class="id" title="constructor">I</span></a>). <span class="id" title="tactic">exact</span>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.relations.html#nsteps_once_inv"><span class="id" title="lemma">nsteps_once_inv</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="prim_step_pure_eq" class="idref" href="#prim_step_pure_eq"><span class="id" title="lemma">prim_step_pure_eq</span></a> <a id="56fe7531e0f0c4fa708518ddcdd7cbb6" class="idref" href="#56fe7531e0f0c4fa708518ddcdd7cbb6"><span class="id" title="binder">σ</span></a> <a id="e1:61" class="idref" href="#e1:61"><span class="id" title="binder">e1</span></a> <a id="e2:62" class="idref" href="#e2:62"><span class="id" title="binder">e2</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="D.iris_extra.det_reduction.html#prim_step"><span class="id" title="projection">L.prim_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e1:61"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#56fe7531e0f0c4fa708518ddcdd7cbb6"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2:62"><span class="id" title="variable">e2</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#56fe7531e0f0c4fa708518ddcdd7cbb6"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#pure_step"><span class="id" title="record">pure_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e1:61"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2:62"><span class="id" title="variable">e2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">exact</span>: <a class="idref" href="D.iris_extra.det_reduction.html#prim_step_pure"><span class="id" title="lemma">prim_step_pure</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span>: <a class="idref" href="D.iris_extra.det_reduction.html#pure_to_prim"><span class="id" title="lemma">pure_to_prim</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="prim_step_pure_eq'" class="idref" href="#prim_step_pure_eq'"><span class="id" title="lemma">prim_step_pure_eq'</span></a> <a id="e1:63" class="idref" href="#e1:63"><span class="id" title="binder">e1</span></a> <a id="e2:64" class="idref" href="#e2:64"><span class="id" title="binder">e2</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="D.iris_extra.det_reduction.html#prim_step"><span class="id" title="projection">L.prim_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e1:63"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#dummyState"><span class="id" title="abbreviation">dummyState</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2:64"><span class="id" title="variable">e2</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#dummyState"><span class="id" title="abbreviation">dummyState</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#pure_step"><span class="id" title="record">pure_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e1:63"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2:64"><span class="id" title="variable">e2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">exact</span>: <a class="idref" href="D.iris_extra.det_reduction.html#prim_step_pure_eq"><span class="id" title="lemma">prim_step_pure_eq</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="pure_step_det'" class="idref" href="#pure_step_det'"><span class="id" title="lemma">pure_step_det'</span></a> {<a id="e1:65" class="idref" href="#e1:65"><span class="id" title="binder">e1</span></a> <a id="e2:66" class="idref" href="#e2:66"><span class="id" title="binder">e2</span></a> <a id="e2':67" class="idref" href="#e2':67"><span class="id" title="binder">e2'</span></a> <a id="0ca16afeead54f8b338ca0372b0ac772" class="idref" href="#0ca16afeead54f8b338ca0372b0ac772"><span class="id" title="binder">σ1</span></a> <a id="a5e7a4654ffa08664967be752fe1dec2" class="idref" href="#a5e7a4654ffa08664967be752fe1dec2"><span class="id" title="binder">κ</span></a> <a id="31b46a152dbad6287be68cdb7ee6f053" class="idref" href="#31b46a152dbad6287be68cdb7ee6f053"><span class="id" title="binder">σ2</span></a> <a id="efs:71" class="idref" href="#efs:71"><span class="id" title="binder">efs</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="D.iris_extra.det_reduction.html#pure_step"><span class="id" title="record">pure_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e1:65"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2:66"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#prim_step"><span class="id" title="projection">L.prim_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e1:65"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#0ca16afeead54f8b338ca0372b0ac772"><span class="id" title="variable">σ1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#a5e7a4654ffa08664967be752fe1dec2"><span class="id" title="variable">κ</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2':67"><span class="id" title="variable">e2'</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#31b46a152dbad6287be68cdb7ee6f053"><span class="id" title="variable">σ2</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#efs:71"><span class="id" title="variable">efs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="D.iris_extra.det_reduction.html#e2':67"><span class="id" title="variable">e2'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2:66"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#a5e7a4654ffa08664967be752fe1dec2"><span class="id" title="variable">κ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#31b46a152dbad6287be68cdb7ee6f053"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#0ca16afeead54f8b338ca0372b0ac772"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#efs:71"><span class="id" title="variable">efs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hpure</span> ?; <span class="id" title="var">edestruct</span> (<a class="idref" href="D.iris_extra.det_reduction.html#pure_step_det"><span class="id" title="projection">pure_step_det</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hpure</span>); <span class="id" title="var">naive_solver</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="prim_step_det" class="idref" href="#prim_step_det"><span class="id" title="lemma">prim_step_det</span></a> <a id="e1:72" class="idref" href="#e1:72"><span class="id" title="binder">e1</span></a> <a id="e2:73" class="idref" href="#e2:73"><span class="id" title="binder">e2</span></a> <a id="e2':74" class="idref" href="#e2':74"><span class="id" title="binder">e2'</span></a> <a id="a62fcfe5ac50110ade04204da3e32f62" class="idref" href="#a62fcfe5ac50110ade04204da3e32f62"><span class="id" title="binder">σ1</span></a> <a id="6fad2a236a2569cd94f7f3027ced178a" class="idref" href="#6fad2a236a2569cd94f7f3027ced178a"><span class="id" title="binder">κ</span></a> <a id="02aab3b5a62c255e84cacbfb81c5f5f3" class="idref" href="#02aab3b5a62c255e84cacbfb81c5f5f3"><span class="id" title="binder">σ2</span></a> <a id="efs:78" class="idref" href="#efs:78"><span class="id" title="binder">efs</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="D.iris_extra.det_reduction.html#prim_step"><span class="id" title="projection">L.prim_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e1:72"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#a62fcfe5ac50110ade04204da3e32f62"><span class="id" title="variable">σ1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#6fad2a236a2569cd94f7f3027ced178a"><span class="id" title="variable">κ</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2:73"><span class="id" title="variable">e2</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#02aab3b5a62c255e84cacbfb81c5f5f3"><span class="id" title="variable">σ2</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#efs:78"><span class="id" title="variable">efs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="D.iris_extra.det_reduction.html#prim_step"><span class="id" title="projection">L.prim_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e1:72"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#a62fcfe5ac50110ade04204da3e32f62"><span class="id" title="variable">σ1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#6fad2a236a2569cd94f7f3027ced178a"><span class="id" title="variable">κ</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2':74"><span class="id" title="variable">e2'</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#02aab3b5a62c255e84cacbfb81c5f5f3"><span class="id" title="variable">σ2</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#efs:78"><span class="id" title="variable">efs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2:73"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2':74"><span class="id" title="variable">e2'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span> ⇒ /<a class="idref" href="D.iris_extra.det_reduction.html#prim_step_pure"><span class="id" title="lemma">prim_step_pure</span></a> + <span class="id" title="var">Hstep</span> ⇒ /<a class="idref" href="D.iris_extra.det_reduction.html#pure_step_det'"><span class="id" title="lemma">pure_step_det'</span></a> /(<span class="id" title="var">_</span> <span class="id" title="var">Hstep</span>) [? <span class="id" title="var">_</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="pure_step_det" class="idref" href="#pure_step_det"><span class="id" title="lemma">pure_step_det</span></a> <a id="e1:79" class="idref" href="#e1:79"><span class="id" title="binder">e1</span></a> <a id="e2:80" class="idref" href="#e2:80"><span class="id" title="binder">e2</span></a> <a id="e2':81" class="idref" href="#e2':81"><span class="id" title="binder">e2'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="D.iris_extra.det_reduction.html#pure_step"><span class="id" title="record">pure_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e1:79"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2:80"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#pure_step"><span class="id" title="record">pure_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e1:79"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2':81"><span class="id" title="variable">e2'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2:80"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2':81"><span class="id" title="variable">e2'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> -!<a class="idref" href="D.iris_extra.det_reduction.html#prim_step_pure_eq'"><span class="id" title="lemma">prim_step_pure_eq'</span></a>. <span class="id" title="tactic">exact</span>: <a class="idref" href="D.iris_extra.det_reduction.html#prim_step_det"><span class="id" title="lemma">prim_step_det</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="prim_step_inversion" class="idref" href="#prim_step_inversion"><span class="id" title="lemma">prim_step_inversion</span></a> <a id="e1:82" class="idref" href="#e1:82"><span class="id" title="binder">e1</span></a> <a id="c0fd2d6e31fb67567f987fc887c7e061" class="idref" href="#c0fd2d6e31fb67567f987fc887c7e061"><span class="id" title="binder">σ1</span></a> <a id="5d2c68382301baa4d17a677d4893fddd" class="idref" href="#5d2c68382301baa4d17a677d4893fddd"><span class="id" title="binder">κ</span></a> <a id="e2:85" class="idref" href="#e2:85"><span class="id" title="binder">e2</span></a> <a id="4b5902fa26555a15f2e14b9ed5810413" class="idref" href="#4b5902fa26555a15f2e14b9ed5810413"><span class="id" title="binder">σ2</span></a> <a id="efs:87" class="idref" href="#efs:87"><span class="id" title="binder">efs</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="D.iris_extra.det_reduction.html#prim_step"><span class="id" title="projection">L.prim_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e1:82"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#c0fd2d6e31fb67567f987fc887c7e061"><span class="id" title="variable">σ1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#5d2c68382301baa4d17a677d4893fddd"><span class="id" title="variable">κ</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2:85"><span class="id" title="variable">e2</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#4b5902fa26555a15f2e14b9ed5810413"><span class="id" title="variable">σ2</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#efs:87"><span class="id" title="variable">efs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="D.iris_extra.det_reduction.html#4b5902fa26555a15f2e14b9ed5810413"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#c0fd2d6e31fb67567f987fc887c7e061"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#5d2c68382301baa4d17a677d4893fddd"><span class="id" title="variable">κ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#efs:87"><span class="id" title="variable">efs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hstep</span>; <span class="id" title="var">have</span> <span class="id" title="var">Hpure</span> := <a class="idref" href="D.iris_extra.det_reduction.html#prim_step_pure"><span class="id" title="lemma">prim_step_pure</span></a> <span class="id" title="var">Hstep</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> ? := <a class="idref" href="D.iris_extra.det_reduction.html#pure_step_det'"><span class="id" title="lemma">pure_step_det'</span></a> <span class="id" title="var">Hpure</span> <span class="id" title="var">Hstep</span>; <span class="id" title="var">naive_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">prim_step_inversion</span> <span class="id" title="var">H</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="D.iris_extra.det_reduction.html#prim_step_inversion"><span class="id" title="lemma">prim_step_inversion</span></a> <span class="id" title="var">H</span>); <span class="id" title="var">destruct_and</span>!; <span class="id" title="var">simplify_eq</span>/=.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="prim_step_view" class="idref" href="#prim_step_view"><span class="id" title="lemma">prim_step_view</span></a> <a id="e1:88" class="idref" href="#e1:88"><span class="id" title="binder">e1</span></a> <a id="a43be47742fd5a0ee47f6ff50947aa51" class="idref" href="#a43be47742fd5a0ee47f6ff50947aa51"><span class="id" title="binder">σ1</span></a> <a id="7f351c8c5d0ff7ffd82bd418890ae02a" class="idref" href="#7f351c8c5d0ff7ffd82bd418890ae02a"><span class="id" title="binder">κ</span></a> <a id="e2:91" class="idref" href="#e2:91"><span class="id" title="binder">e2</span></a> <a id="6048f4a409f5d88c37f33dccb6d2d8e0" class="idref" href="#6048f4a409f5d88c37f33dccb6d2d8e0"><span class="id" title="binder">σ2</span></a> <a id="efs:93" class="idref" href="#efs:93"><span class="id" title="binder">efs</span></a><br/>
&nbsp;&nbsp;(<a id="Hstep:94" class="idref" href="#Hstep:94"><span class="id" title="binder">Hstep</span></a> : <a class="idref" href="D.iris_extra.det_reduction.html#prim_step"><span class="id" title="projection">L.prim_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e1:88"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#a43be47742fd5a0ee47f6ff50947aa51"><span class="id" title="variable">σ1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#7f351c8c5d0ff7ffd82bd418890ae02a"><span class="id" title="variable">κ</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2:91"><span class="id" title="variable">e2</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#6048f4a409f5d88c37f33dccb6d2d8e0"><span class="id" title="variable">σ2</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#efs:93"><span class="id" title="variable">efs</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="D.iris_extra.det_reduction.html#prim_step"><span class="id" title="projection">L.prim_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e1:88"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#a43be47742fd5a0ee47f6ff50947aa51"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2:91"><span class="id" title="variable">e2</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#6048f4a409f5d88c37f33dccb6d2d8e0"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="var">prim_step_inversion</span> <span class="id" title="var">Hstep</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="prim_step_step" class="idref" href="#prim_step_step"><span class="id" title="lemma">prim_step_step</span></a> <a id="e1:95" class="idref" href="#e1:95"><span class="id" title="binder">e1</span></a> <a id="a9bcc5764d17e174b3024cd55432ea32" class="idref" href="#a9bcc5764d17e174b3024cd55432ea32"><span class="id" title="binder">σ</span></a> <a id="0849d26c46f40df537ff95066036a4db" class="idref" href="#0849d26c46f40df537ff95066036a4db"><span class="id" title="binder">κ</span></a> <a id="e2:98" class="idref" href="#e2:98"><span class="id" title="binder">e2</span></a> <a id="69e8d3361787413be45ac0449b95aad8" class="idref" href="#69e8d3361787413be45ac0449b95aad8"><span class="id" title="binder">σ'</span></a> <a id="efs:100" class="idref" href="#efs:100"><span class="id" title="binder">efs</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="D.iris_extra.det_reduction.html#prim_step"><span class="id" title="projection">L.prim_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e1:95"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#a9bcc5764d17e174b3024cd55432ea32"><span class="id" title="variable">σ</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#0849d26c46f40df537ff95066036a4db"><span class="id" title="variable">κ</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2:98"><span class="id" title="variable">e2</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#69e8d3361787413be45ac0449b95aad8"><span class="id" title="variable">σ'</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#efs:100"><span class="id" title="variable">efs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#step"><span class="id" title="inductive">L.step</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="D.iris_extra.det_reduction.html#e1:95"><span class="id" title="variable">e1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#a9bcc5764d17e174b3024cd55432ea32"><span class="id" title="variable">σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="D.iris_extra.det_reduction.html#e2:98"><span class="id" title="variable">e2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#69e8d3361787413be45ac0449b95aad8"><span class="id" title="variable">σ'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ /<a class="idref" href="D.iris_extra.det_reduction.html#prim_step_view"><span class="id" title="lemma">prim_step_view</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="D.iris_extra.det_reduction.html#step_atomic"><span class="id" title="constructor">step_atomic</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">t1</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) (<span class="id" title="var">t2</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Immediate</span> <span class="id" title="var">prim_step_step</span> : <span class="id" title="var">core</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="step_inversion" class="idref" href="#step_inversion"><span class="id" title="lemma">step_inversion</span></a> <a id="e1:101" class="idref" href="#e1:101"><span class="id" title="binder">e1</span></a> <a id="thp:102" class="idref" href="#thp:102"><span class="id" title="binder">thp</span></a> <a id="7ebcfa9c1e384da68c82f37dc2702491" class="idref" href="#7ebcfa9c1e384da68c82f37dc2702491"><span class="id" title="binder">σ</span></a> <a id="d22c6f61dca0440a70073b77beff5b12" class="idref" href="#d22c6f61dca0440a70073b77beff5b12"><span class="id" title="binder">σ'</span></a> <a id="c2d9f28ffbfab057f16f598d1422a661" class="idref" href="#c2d9f28ffbfab057f16f598d1422a661"><span class="id" title="binder">κ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="D.iris_extra.det_reduction.html#step"><span class="id" title="inductive">step</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="D.iris_extra.det_reduction.html#e1:101"><span class="id" title="variable">e1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#7ebcfa9c1e384da68c82f37dc2702491"><span class="id" title="variable">σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#c2d9f28ffbfab057f16f598d1422a661"><span class="id" title="variable">κ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="D.iris_extra.det_reduction.html#thp:102"><span class="id" title="variable">thp</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#d22c6f61dca0440a70073b77beff5b12"><span class="id" title="variable">σ'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="e2:106" class="idref" href="#e2:106"><span class="id" title="binder">e2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#thp:102"><span class="id" title="variable">thp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="D.iris_extra.det_reduction.html#e2:106"><span class="id" title="variable">e2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#c2d9f28ffbfab057f16f598d1422a661"><span class="id" title="variable">κ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#prim_step"><span class="id" title="projection">L.prim_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e1:101"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#7ebcfa9c1e384da68c82f37dc2702491"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2:106"><span class="id" title="variable">e2</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#d22c6f61dca0440a70073b77beff5b12"><span class="id" title="variable">σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> 1 <span class="id" title="keyword">as</span> [????? <span class="id" title="var">t0</span> ??? <span class="id" title="var">Hstep</span>]; <span class="id" title="tactic">destruct</span> <span class="id" title="var">t0</span> <span class="id" title="keyword">as</span> [|?[]]; [| <span class="id" title="var">naive_solver</span>..].<br/>
&nbsp;&nbsp;<span class="id" title="var">prim_step_inversion</span> <span class="id" title="var">Hstep</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="step_inversion'" class="idref" href="#step_inversion'"><span class="id" title="lemma">step_inversion'</span></a> <a id="e1:107" class="idref" href="#e1:107"><span class="id" title="binder">e1</span></a> <a id="e2:108" class="idref" href="#e2:108"><span class="id" title="binder">e2</span></a> <a id="thp:109" class="idref" href="#thp:109"><span class="id" title="binder">thp</span></a> <a id="0e349015c691de677369ceaeb92aeb42" class="idref" href="#0e349015c691de677369ceaeb92aeb42"><span class="id" title="binder">σ</span></a> <a id="0fb0c0b18bc612942c41bad1d4a8e5c5" class="idref" href="#0fb0c0b18bc612942c41bad1d4a8e5c5"><span class="id" title="binder">σ'</span></a> <a id="475f29f0429d39cca4aeec92379efaea" class="idref" href="#475f29f0429d39cca4aeec92379efaea"><span class="id" title="binder">κ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="D.iris_extra.det_reduction.html#step"><span class="id" title="inductive">step</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="D.iris_extra.det_reduction.html#e1:107"><span class="id" title="variable">e1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#0e349015c691de677369ceaeb92aeb42"><span class="id" title="variable">σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#475f29f0429d39cca4aeec92379efaea"><span class="id" title="variable">κ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="D.iris_extra.det_reduction.html#thp:109"><span class="id" title="variable">thp</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#0fb0c0b18bc612942c41bad1d4a8e5c5"><span class="id" title="variable">σ'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2:108"><span class="id" title="variable">e2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#thp:109"><span class="id" title="variable">thp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="D.iris_extra.det_reduction.html#thp:109"><span class="id" title="variable">thp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="D.iris_extra.det_reduction.html#e2:108"><span class="id" title="variable">e2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#475f29f0429d39cca4aeec92379efaea"><span class="id" title="variable">κ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#prim_step"><span class="id" title="projection">L.prim_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e1:107"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#0e349015c691de677369ceaeb92aeb42"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2:108"><span class="id" title="variable">e2</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#0fb0c0b18bc612942c41bad1d4a8e5c5"><span class="id" title="variable">σ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> ⇒ /<a class="idref" href="D.iris_extra.det_reduction.html#step_inversion"><span class="id" title="lemma">step_inversion</span></a> [<span class="id" title="var">e2'</span> [-&gt; [-&gt;]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.list.html#elem_of_list_singleton"><span class="id" title="lemma">elem_of_list_singleton</span></a>. <span class="id" title="var">naive_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="erased_step'" class="idref" href="#erased_step'"><span class="id" title="definition">erased_step'</span></a> <a id="e1:113" class="idref" href="#e1:113"><span class="id" title="binder">e1</span></a> <a id="e2:114" class="idref" href="#e2:114"><span class="id" title="binder">e2</span></a> := <a class="idref" href="D.iris_extra.det_reduction.html#erased_step"><span class="id" title="definition">erased_step</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="D.iris_extra.det_reduction.html#e1:113"><span class="id" title="variable">e1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#dummyState"><span class="id" title="abbreviation">dummyState</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="D.iris_extra.det_reduction.html#e2:114"><span class="id" title="variable">e2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#dummyState"><span class="id" title="abbreviation">dummyState</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="pure_step_erased" class="idref" href="#pure_step_erased"><span class="id" title="lemma">pure_step_erased</span></a> <a id="e1:115" class="idref" href="#e1:115"><span class="id" title="binder">e1</span></a> <a id="e2:116" class="idref" href="#e2:116"><span class="id" title="binder">e2</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="D.iris_extra.det_reduction.html#pure_step"><span class="id" title="record">pure_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e1:115"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2:116"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#erased_step"><span class="id" title="definition">erased_step</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="D.iris_extra.det_reduction.html#e1:115"><span class="id" title="variable">e1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#dummyState"><span class="id" title="abbreviation">dummyState</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="D.iris_extra.det_reduction.html#e2:116"><span class="id" title="variable">e2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#dummyState"><span class="id" title="abbreviation">dummyState</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span> ⇒ <span class="id" title="var">Hsafe</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="D.iris_extra.det_reduction.html#prim_step_step"><span class="id" title="lemma">prim_step_step</span></a>, <a class="idref" href="D.iris_extra.det_reduction.html#prim_step_pure_eq"><span class="id" title="lemma">prim_step_pure_eq</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsafe</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">l</span> <span class="id" title="var">Hsafe</span>%<a class="idref" href="D.iris_extra.det_reduction.html#step_inversion"><span class="id" title="lemma">step_inversion</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="D.iris_extra.det_reduction.html#prim_step_pure"><span class="id" title="lemma">prim_step_pure</span></a>; <span class="id" title="var">naive_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="erased_step_inversion" class="idref" href="#erased_step_inversion"><span class="id" title="lemma">erased_step_inversion</span></a> <a id="t1:117" class="idref" href="#t1:117"><span class="id" title="binder">t1</span></a> <a id="f9a160848f134cfba002f6d72f90eabf" class="idref" href="#f9a160848f134cfba002f6d72f90eabf"><span class="id" title="binder">σ</span></a> <a id="res:119" class="idref" href="#res:119"><span class="id" title="binder">res</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="D.iris_extra.det_reduction.html#erased_step"><span class="id" title="definition">erased_step</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="D.iris_extra.det_reduction.html#t1:117"><span class="id" title="variable">t1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#f9a160848f134cfba002f6d72f90eabf"><span class="id" title="variable">σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#res:119"><span class="id" title="variable">res</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="t2:120" class="idref" href="#t2:120"><span class="id" title="binder">t2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#res:119"><span class="id" title="variable">res</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="D.iris_extra.det_reduction.html#t2:120"><span class="id" title="variable">t2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#f9a160848f134cfba002f6d72f90eabf"><span class="id" title="variable">σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#prim_step"><span class="id" title="projection">L.prim_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#t1:117"><span class="id" title="variable">t1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#f9a160848f134cfba002f6d72f90eabf"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#t2:120"><span class="id" title="variable">t2</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#f9a160848f134cfba002f6d72f90eabf"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">case</span>: <span class="id" title="var">res</span> ⇒ ?? [? /<a class="idref" href="D.iris_extra.det_reduction.html#step_inversion"><span class="id" title="lemma">step_inversion</span></a> <span class="id" title="var">Hst</span>]; <span class="id" title="var">uniqueState</span>. <span class="id" title="var">naive_solver</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="comment">(*<br/>
Lemma&nbsp;erased_step_inversion1&nbsp;{t1&nbsp;thp&nbsp;σ&nbsp;σ'}&nbsp;:<br/>
&nbsp;&nbsp;erased_step&nbsp;(<span class="inlinecode"><span class="id" title="var">t1</span></span>,&nbsp;σ)&nbsp;(thp,&nbsp;σ')&nbsp;→<br/>
&nbsp;&nbsp;∃&nbsp;t2,&nbsp;thp&nbsp;=&nbsp;<span class="inlinecode"><span class="id" title="var">t2</span></span>&nbsp;∧&nbsp;L.prim_step&nbsp;t1&nbsp;σ&nbsp;<span class="inlinecode"></span>&nbsp;t2&nbsp;σ'&nbsp;<span class="inlinecode"></span>.<br/>
Proof.&nbsp;move&nbsp;=&gt;&nbsp;/erased_step_inversion;&nbsp;naive_solver.&nbsp;Qed.&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="pure_steps_erased" class="idref" href="#pure_steps_erased"><span class="id" title="lemma">pure_steps_erased</span></a> <a id="e1:121" class="idref" href="#e1:121"><span class="id" title="binder">e1</span></a> <a id="e2:122" class="idref" href="#e2:122"><span class="id" title="binder">e2</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.relations.html#rtc"><span class="id" title="inductive">rtc</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#pure_step"><span class="id" title="record">pure_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e1:121"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2:122"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.relations.html#rtc"><span class="id" title="inductive">rtc</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#erased_step'"><span class="id" title="definition">erased_step'</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e1:121"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2:122"><span class="id" title="variable">e2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.relations.html#rtc_congruence"><span class="id" title="lemma">rtc_congruence</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">f</span> := <a class="idref" href="https://www.ps.uni-saarland.de/autosubst/doc/Autosubst.Autosubst_Basics.html#id"><span class="id" title="definition">id</span></a>) ⇒ ?? /<a class="idref" href="D.iris_extra.det_reduction.html#pure_step_erased"><span class="id" title="lemma">pure_step_erased</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="D.iris_extra.det_reduction.html#LangDet"><span class="id" title="section">LangDet</span></a>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> →<span class="id" title="var">pure_step_erased</span> : <span class="id" title="var">core</span>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> &lt;-<span class="id" title="var">pure_step_erased</span> : <span class="id" title="var">core</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="rtc_erased_step_inversion'" class="idref" href="#rtc_erased_step_inversion'"><span class="id" title="lemma">rtc_erased_step_inversion'</span></a> `{<a id="H:125" class="idref" href="#H:125"><span class="id" title="binder">LangDet</span></a> <a id="H:125" class="idref" href="#H:125"><span class="id" title="binder">Λ</span></a>} {<a id="t1:126" class="idref" href="#t1:126"><span class="id" title="binder">t1</span></a> : <a class="idref" href="D.iris_extra.det_reduction.html#expr"><span class="id" title="projection">L.expr</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#230482db51f43851b2a02d8566dfacfb"><span class="id" title="variable">Λ</span></a>} {<a id="res:127" class="idref" href="#res:127"><span class="id" title="binder">res</span></a> <a id="12f413cbe2db28483165076c05fb199b" class="idref" href="#12f413cbe2db28483165076c05fb199b"><span class="id" title="binder">σ</span></a>}<br/>
&nbsp;&nbsp;(<a id="Hs:129" class="idref" href="#Hs:129"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.relations.html#rtc"><span class="id" title="inductive">rtc</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#erased_step"><span class="id" title="definition">erased_step</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="D.iris_extra.det_reduction.html#t1:126"><span class="id" title="variable">t1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#12f413cbe2db28483165076c05fb199b"><span class="id" title="variable">σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#res:127"><span class="id" title="variable">res</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="t2:130" class="idref" href="#t2:130"><span class="id" title="binder">t2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#res:127"><span class="id" title="variable">res</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="D.iris_extra.det_reduction.html#t2:130"><span class="id" title="variable">t2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#12f413cbe2db28483165076c05fb199b"><span class="id" title="variable">σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> <span class="id" title="var">E</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">t1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> σ<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">Hs</span> ⇒ <span class="id" title="var">cfg</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">Hs</span> <span class="id" title="var">t1</span> <span class="id" title="var">E</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">edestruct</span> <a class="idref" href="D.iris_extra.det_reduction.html#erased_step_inversion"><span class="id" title="lemma">erased_step_inversion</span></a>; <span class="id" title="var">naive_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Out&nbsp;of&nbsp;the&nbsp;section&nbsp;to&nbsp;workaround&nbsp;bugs&nbsp;with&nbsp;dependent&nbsp;induction.&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="pure_steps_erased'" class="idref" href="#pure_steps_erased'"><span class="id" title="lemma">pure_steps_erased'</span></a> `{<a id="H:133" class="idref" href="#H:133"><span class="id" title="binder">LangDet</span></a> <a id="H:133" class="idref" href="#H:133"><span class="id" title="binder">Λ</span></a>} <a id="e1:134" class="idref" href="#e1:134"><span class="id" title="binder">e1</span></a> <a id="e2:135" class="idref" href="#e2:135"><span class="id" title="binder">e2</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.relations.html#rtc"><span class="id" title="inductive">rtc</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#pure_step"><span class="id" title="record">pure_step</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e1:134"><span class="id" title="variable">e1</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e2:135"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.relations.html#rtc"><span class="id" title="inductive">rtc</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#erased_step"><span class="id" title="definition">erased_step</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="D.iris_extra.det_reduction.html#e1:134"><span class="id" title="variable">e1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#dummyState"><span class="id" title="abbreviation">dummyState</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="D.iris_extra.det_reduction.html#e2:135"><span class="id" title="variable">e2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#dummyState"><span class="id" title="abbreviation">dummyState</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">rewrite</span> !<a class="idref" href="D.iris_extra.det_reduction.html#pure_steps_erased"><span class="id" title="lemma">pure_steps_erased</span></a> /<a class="idref" href="D.iris_extra.det_reduction.html#erased_step'"><span class="id" title="definition">erased_step'</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">induction</span> 1; <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span> <span class="id" title="var">E1</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">e1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#dummyState"><span class="id" title="abbreviation">dummyState</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ <span class="id" title="var">c1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> <span class="id" title="var">E2</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">e2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#dummyState"><span class="id" title="abbreviation">dummyState</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ <span class="id" title="var">c2</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">Hs</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> <span class="id" title="var">E1</span> <span class="id" title="var">E2</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> <a class="idref" href="D.iris_extra.det_reduction.html#erased_step_inversion"><span class="id" title="lemma">erased_step_inversion</span></a>; <span class="id" title="var">naive_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="LangDet" class="idref" href="#LangDet"><span class="id" title="section">LangDet</span></a>.<br/>
<span class="id" title="keyword">Context</span> `{<a id="HlangDet:138" class="idref" href="#HlangDet:138"><span class="id" title="binder">HlangDet</span></a> : <a class="idref" href="D.iris_extra.det_reduction.html#LangDet"><span class="id" title="class">LangDet</span></a> <a id="ab8dea87a1884b8e085c77459d26f216" class="idref" href="#ab8dea87a1884b8e085c77459d26f216"><span class="id" title="binder">Λ</span></a>}.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Type</span> (<span class="id" title="var">e</span> <span class="id" title="var">t</span> : <a class="idref" href="D.iris_extra.det_reduction.html#expr"><span class="id" title="projection">L.expr</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#73ddad415cc8cffaba46dbc9f89032f6"><span class="id" title="variable">Λ</span></a>).<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="rtc_erased_step_inversion" class="idref" href="#rtc_erased_step_inversion"><span class="id" title="lemma">rtc_erased_step_inversion</span></a> {<a id="t1:139" class="idref" href="#t1:139"><span class="id" title="binder">t1</span></a> <a id="t2:140" class="idref" href="#t2:140"><span class="id" title="binder">t2</span></a> <a id="f0b4fa968927e20953797d1e09763588" class="idref" href="#f0b4fa968927e20953797d1e09763588"><span class="id" title="binder">σ</span></a> <a id="ec55e0a01d6620df81c7ecd269bb009a" class="idref" href="#ec55e0a01d6620df81c7ecd269bb009a"><span class="id" title="binder">σ'</span></a> <a id="thp:143" class="idref" href="#thp:143"><span class="id" title="binder">thp</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.relations.html#rtc"><span class="id" title="inductive">rtc</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#erased_step"><span class="id" title="definition">erased_step</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="D.iris_extra.det_reduction.html#t1:139"><span class="id" title="variable">t1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#f0b4fa968927e20953797d1e09763588"><span class="id" title="variable">σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="D.iris_extra.det_reduction.html#thp:143"><span class="id" title="variable">thp</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#ec55e0a01d6620df81c7ecd269bb009a"><span class="id" title="variable">σ'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#t2:140"><span class="id" title="variable">t2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#thp:143"><span class="id" title="variable">thp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.relations.html#rtc"><span class="id" title="inductive">rtc</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#erased_step"><span class="id" title="definition">erased_step</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="D.iris_extra.det_reduction.html#t1:139"><span class="id" title="variable">t1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#f0b4fa968927e20953797d1e09763588"><span class="id" title="variable">σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="D.iris_extra.det_reduction.html#t2:140"><span class="id" title="variable">t2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#ec55e0a01d6620df81c7ecd269bb009a"><span class="id" title="variable">σ'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>⇒ <span class="id" title="var">Hs</span>; <span class="id" title="var">have</span> [<span class="id" title="var">t2'</span> ?] := <a class="idref" href="D.iris_extra.det_reduction.html#rtc_erased_step_inversion'"><span class="id" title="lemma">rtc_erased_step_inversion'</span></a> <span class="id" title="var">Hs</span>; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.list.html#elem_of_list_singleton"><span class="id" title="lemma">elem_of_list_singleton</span></a> →.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab9"></a><h2 class="section">For a deterministic language, <span class="inlinecode"><a class="idref" href="D.iris_extra.det_reduction.html#safe_gen"><span class="id" title="definition">safe_gen</span></a></span> and <span class="inlinecode"><a class="idref" href="D.iris_extra.det_reduction.html#safe"><span class="id" title="definition">safe</span></a></span> are equivalent.</h2>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="safe_equiv" class="idref" href="#safe_equiv"><span class="id" title="lemma">safe_equiv</span></a> <a id="e:144" class="idref" href="#e:144"><span class="id" title="binder">e</span></a> : <a class="idref" href="D.iris_extra.det_reduction.html#safe_gen"><span class="id" title="definition">safe_gen</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e:144"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#safe"><span class="id" title="definition">safe</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#e:144"><span class="id" title="variable">e</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="D.iris_extra.det_reduction.html#safe"><span class="id" title="definition">safe</span></a> /<a class="idref" href="D.iris_extra.det_reduction.html#safe_gen"><span class="id" title="definition">safe_gen</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hsafe</span> ?*.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Hred</span>%<a class="idref" href="D.iris_extra.det_reduction.html#pure_steps_erased'"><span class="id" title="lemma">pure_steps_erased'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> (<span class="id" title="var">Hsafe</span> <span class="id" title="var">e'</span>), <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp/stdpp.list.html#elem_of_list_singleton"><span class="id" title="lemma">elem_of_list_singleton</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span> ⇒ + <span class="id" title="var">Hin</span> ⇒ /<a class="idref" href="D.iris_extra.det_reduction.html#rtc_erased_step_inversion"><span class="id" title="lemma">rtc_erased_step_inversion</span></a> /(<span class="id" title="var">_</span> <span class="id" title="var">Hin</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">uniqueState</span> ⇒ /<a class="idref" href="D.iris_extra.det_reduction.html#pure_steps_erased'"><span class="id" title="lemma">pure_steps_erased'</span></a>. <span class="id" title="var">naive_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="D.iris_extra.det_reduction.html#LangDet"><span class="id" title="section">LangDet</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="EctxLangDet" class="idref" href="#EctxLangDet"><span class="id" title="section">EctxLangDet</span></a>.<br/>
<span class="id" title="keyword">Context</span> {<a id="e25ff29d998cb71716b804a9ea1127cd" class="idref" href="#e25ff29d998cb71716b804a9ea1127cd"><span class="id" title="binder">Λ</span></a> : <a class="idref" href="D.iris_extra.det_reduction.html#ectxLanguage"><span class="id" title="record">ectxLanguage</span></a>} `{<a id="H:147" class="idref" href="#H:147"><span class="id" title="binder">EctxLangDet</span></a> <a id="H:147" class="idref" href="#H:147"><span class="id" title="binder">Λ</span></a>}.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="EctxLangDet_LangDet" class="idref" href="#EctxLangDet_LangDet"><span class="id" title="instance">EctxLangDet_LangDet</span></a> : <a class="idref" href="D.iris_extra.det_reduction.html#LangDet"><span class="id" title="class">LangDet</span></a> <a class="idref" href="D.iris_extra.det_reduction.html#43097fd4f1cbff9ec3b79ced847944bd"><span class="id" title="variable">Λ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>] ⇒ <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> σ1 <span class="id" title="var">κ</span> σ2 <span class="id" title="var">efs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> 1; <span class="id" title="var">simplify_eq</span>/=. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="D.iris_extra.det_reduction.html#pure_exec_fill"><span class="id" title="instance">pure_exec_fill</span></a>, <a class="idref" href="D.iris_extra.det_reduction.html#head_step_PureExec"><span class="id" title="method">head_step_PureExec</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="D.iris_extra.det_reduction.html#EctxLangDet"><span class="id" title="section">EctxLangDet</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
